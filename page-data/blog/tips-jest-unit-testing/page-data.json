{"componentChunkName":"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx","path":"/blog/tips-jest-unit-testing","result":{"data":{"post":{"__typename":"MdxPost","slug":"/blog/tips-jest-unit-testing","title":"Unrevealed tips for unit testing with Jest","date":"26.07.2019","tags":[{"name":"JavaScript","slug":"java-script"},{"name":"Software Testing","slug":"software-testing"}],"description":null,"canonicalUrl":null,"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Unrevealed tips for unit testing with Jest\",\n  \"date\": \"2019-07-26T00:00:00.000Z\",\n  \"slug\": \"/blog/tips-jest-unit-testing\",\n  \"tags\": [\"JavaScript\", \"Software Testing\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(ScrollToTopButton, {\n    mdxType: \"ScrollToTopButton\"\n  }), mdx(\"p\", null, \"As a front-end engineer by profession, and having a few JavaScript open source projects myself, I've faced some challenges around unit testing, in my particular case, with \", mdx(\"a\", {\n    href: \"https://jestjs.io/en/\",\n    target: \"_blank\",\n    title: \"jest is a delightful javascript testing framework with a focus on simplicity\"\n  }, \"Jest\"), \".\"), mdx(\"p\", null, \"For several times I question myself: \\\"How did the test get to the point in which it's so much more complex to implement than the feature itself?\\\" - It's usually like that, don't take me wrong here, I'm just referring to extreme cases, where 3rd party libraries or even architectural decisions, make your code super hard to test.\"), mdx(\"p\", null, \"Nevertheless, I wanted to share with you a super pragmatic and short list of tips that might help you get that tricky stubborn mock to work.\"), mdx(\"h3\", {\n    \"id\": \"1-mocking-defaults\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"1. Mocking defaults\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#1-mocking-defaults\",\n    \"aria-label\": \"1 mocking defaults permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"style\": {\n      \"paddingLeft\": \"12px\"\n    },\n    \"width\": \"28\",\n    \"height\": \"16\",\n    \"fill\": \"#9f7aea\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"In this example, I mock a 3rd party dependency called \", mdx(\"a\", {\n    href: \"https://github.com/ScottHamper/Cookies\",\n    target: \"_blank\",\n    title: \"javascript client-side cookie manipulation library\"\n  }, \"ScottHamper/Cookies\"), \". This 3rd party exports only a default property that is a wrapper to all the cookie operations that one can perform. Internally it's actually implemented as a \", mdx(\"a\", {\n    href: \"https://en.wikipedia.org/wiki/Singleton_pattern\",\n    target: \"_blank\",\n    title: \"wikipedia singleton pattern is a software design pattern that restricts the instantiation of a class to one single instance\"\n  }, \"singleton\"), \". The trick is to use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"__esModule: true\"), \" flag within the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jest.mock\"), \" call.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// code.js\\nimport Cookie from \\\"cookies-js\\\";\\n\\nCookie.get(\\\"key\\\");\\n// ...\\nCookie.set(\\\"key\\\");\\n\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// code.spec.js\\nlet mockGetCookie = jest.fn();\\nlet mockSetCookie = jest.fn();\\n\\njest.mock(\\\"cookies-js\\\", () => ({\\n  __esModule: true, // mock the exports\\n  default: {\\n    set: jest.fn().mockImplementation((...args) => {\\n      mockSetCookie(...args);\\n    }),\\n    get: jest.fn().mockImplementation((...args) => {\\n      mockGetCookie(...args);\\n    }),\\n  },\\n}));\\n// ...\\nit(\\\"should call Cookie.set\\\", () => {\\n  expect(mockSetCookie).toHaveBeenCalledWith(\\\"key\\\");\\n});\\n\")), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"2-mocking-files-that-dont-exist-in-the-file-system-\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"2. Mocking files that don't exist in the file system! \\uD83E\\uDD2F\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#2-mocking-files-that-dont-exist-in-the-file-system-\",\n    \"aria-label\": \"2 mocking files that dont exist in the file system  permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"style\": {\n      \"paddingLeft\": \"12px\"\n    },\n    \"width\": \"28\",\n    \"height\": \"16\",\n    \"fill\": \"#9f7aea\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"If you depend on a file that is generated at runtime, or a file that only exists in the context of the client (e.g., a runtime configuration file), this file it's not most likely in your filesystem when you trigger the test, but your program depends on it to run. There's a way to mock this nonexistent file with Jest, one just needs to make use of the mock configuration flag \", mdx(\"a\", {\n    href: \"https://jestjs.io/docs/en/jest-object.html#jestmockmodulename-factory-options\",\n    target: \"_blank\",\n    title: \"jest docs mocks a module with jest.mock\"\n  }, \"virtual\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// runtimeConfig.json does not exist on the filesystem, but your test\\n// will still execute and your code will use this runtimeConfig.json file\\njest.mock(\\\"./runtimeConfig.json\\\", () => ({ env: \\\"QA1\\\" }), { virtual: true });\\n\")), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"3-complexlarge-assertions-on-function-calls\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"3. Complex/large assertions on function calls\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#3-complexlarge-assertions-on-function-calls\",\n    \"aria-label\": \"3 complexlarge assertions on function calls permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"style\": {\n      \"paddingLeft\": \"12px\"\n    },\n    \"width\": \"28\",\n    \"height\": \"16\",\n    \"fill\": \"#9f7aea\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"Consider the following scenario where you have a set of star wars characters\\nand you can fetch them according to different kinds of sorting options.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// code.js\\nconst starWarsCharacters = [\\n  { name: \\\"Luke Skywalker\\\", height: \\\"172\\\", mass: \\\"77\\\" },\\n  { name: \\\"C-3PO\\\", height: \\\"167\\\", mass: \\\"75\\\" },\\n  { name: \\\"R2-D2\\\", height: \\\"96\\\", mass: \\\"32\\\" },\\n  { name: \\\"Darth Vader\\\", height: \\\"202\\\", mass: \\\"136\\\" },\\n  { name: \\\"Leia Organa\\\", height: \\\"150\\\", mass: \\\"49\\\" },\\n  { name: \\\"Owen Lars\\\", height: \\\"178\\\", mass: \\\"120\\\" },\\n  { name: \\\"Beru Whitesun lars\\\", height: \\\"165\\\", mass: \\\"75\\\" },\\n  { name: \\\"R5-D4\\\", height: \\\"97\\\", mass: \\\"32\\\" },\\n  { name: \\\"Biggs Darklighter\\\", height: \\\"183\\\", mass: \\\"84\\\" },\\n  { name: \\\"Obi-Wan Kenobi\\\", height: \\\"182\\\", mass: \\\"77\\\" },\\n];\\n\\nfunction getCharacters(options) {\\n  if (options.sortedByName) {\\n    return sortedByName(starWarsCharacters);\\n  }\\n\\n  if (options.sortedByHeight) {\\n    return sortByHeight(starWarsCharacters);\\n  }\\n\\n  return starWarsCharacters;\\n}\\n\")), mdx(\"p\", null, \"(\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Note!\"), \" let's ignore the return value, let's say we were only interested in knowing whether or not\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sortedByName\"), \" function was called).\"), mdx(\"p\", null, \"You might have seen the following testing code somewhere:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"// code.spec.js\\n\\nit(\\\"should call sortedByName with all the star wars characters\\\", () => {\\n  const options = { sortedByName: true };\\n\\n  getCharacters(options);\\n\\n  // I'm exaggerating to prove a point, hope nobody actually does this\\n  expect(mockSortedByName).toHaveBeenCalledWith([\\n    { name: \\\"Luke Skywalker\\\", height: \\\"172\\\", mass: \\\"77\\\" },\\n    { name: \\\"C-3PO\\\", height: \\\"167\\\", mass: \\\"75\\\" },\\n    { name: \\\"R2-D2\\\", height: \\\"96\\\", mass: \\\"32\\\" },\\n    { name: \\\"Darth Vader\\\", height: \\\"202\\\", mass: \\\"136\\\" },\\n    { name: \\\"Leia Organa\\\", height: \\\"150\\\", mass: \\\"49\\\" },\\n    { name: \\\"Owen Lars\\\", height: \\\"178\\\", mass: \\\"120\\\" },\\n    { name: \\\"Beru Whitesun lars\\\", height: \\\"165\\\", mass: \\\"75\\\" },\\n    { name: \\\"R5-D4\\\", height: \\\"97\\\", mass: \\\"32\\\" },\\n    { name: \\\"Biggs Darklighter\\\", height: \\\"183\\\", mass: \\\"84\\\" },\\n    { name: \\\"Obi-Wan Kenobi\\\", height: \\\"182\\\", mass: \\\"77\\\" },\\n  ]);\\n});\\n\")), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"551px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"60.416666666666664%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAMABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAgAB/8QAFgEBAQEAAAAAAAAAAAAAAAAAAgAB/9oADAMBAAIQAxAAAAE6GYxhv//EABgQAQEBAQEAAAAAAAAAAAAAAAECEQAy/9oACAEBAAEFAmmY1zefMgq9/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPwGMW//EABURAQEAAAAAAAAAAAAAAAAAABAR/9oACAECAQE/AYf/xAAcEAABBAMBAAAAAAAAAAAAAAABABARIQIiMUH/2gAIAQEABj8Cxih6hJ2VhuN//8QAGxAAAwEBAAMAAAAAAAAAAAAAAAERMSFBUWH/2gAIAQEAAT8hpDo6lE5CfoteR+x8y0fU8d0g4sR//9oADAMBAAIAAwAAABAw7//EABYRAAMAAAAAAAAAAAAAAAAAAAEQIf/aAAgBAwEBPxAoT//EABcRAAMBAAAAAAAAAAAAAAAAAAABEVH/2gAIAQIBAT8QrRo//8QAGxABAAMAAwEAAAAAAAAAAAAAAQARITFBUXH/2gAIAQEAAT8QIASqC6rIjoLwGnTLKL5DmBoQi7X37Bc7oivj7E4DAJ//2Q==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"morpheus alternative meme\",\n    \"title\": \"morpheus alternative meme\",\n    \"src\": \"/static/57c3214bed9fb90a929b18837878d8cf/31107/morpheus.jpg\",\n    \"srcSet\": [\"/static/57c3214bed9fb90a929b18837878d8cf/46946/morpheus.jpg 240w\", \"/static/57c3214bed9fb90a929b18837878d8cf/55489/morpheus.jpg 480w\", \"/static/57c3214bed9fb90a929b18837878d8cf/31107/morpheus.jpg 551w\"],\n    \"sizes\": \"(max-width: 551px) 100vw, 551px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n    \")), mdx(Caption, {\n    source: \"https://imgflip.com/memegenerator/31952703/morpheus\",\n    mdxType: \"Caption\"\n  }), mdx(\"p\", null, \"In this cases, you can make use of \", mdx(\"a\", {\n    href: \"https://jestjs.io/docs/en/mock-function-api#mockfnmockcalls\",\n    target: \"_blank\",\n    title: \"jest docs mockFn.mock.calls\"\n  }, \"mockFn.mock.calls\"), \" to assert on the arguments that were passed into the function call, and you can use \", mdx(\"a\", {\n    href: \"https://jestjs.io/docs/en/snapshot-testing#snapshot-testing-with-jest\",\n    target: \"_blank\",\n    title: \"jest docs snapshot tests are a very useful tool whenever you want to make sure your UI does not change unexpectedly\"\n  }, \"snapshot testing\"), \" in order to keep your test case gracefully thin.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"it(\\\"should call sortedByName with all the star wars characters\\\", () => {\\n  const options = { sortedByName: true };\\n\\n  getCharacters(options);\\n\\n  expect(mockSortedByName.mock.calls[0]).toMatchSnapshot();\\n});\\n\")), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"4-inline-require-to-mock-large-datasets\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"4. Inline require to mock large datasets\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#4-inline-require-to-mock-large-datasets\",\n    \"aria-label\": \"4 inline require to mock large datasets permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"style\": {\n      \"paddingLeft\": \"12px\"\n    },\n    \"width\": \"28\",\n    \"height\": \"16\",\n    \"fill\": \"#9f7aea\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"In the event of facing the ideal scenario where you need to mock a full JSON API response, you might want to place your JSON separate file and then use an inline require statement to mimic a response for a particular method.\"), mdx(\"p\", null, \"Let's again make use of the previous example with data from the \", mdx(\"a\", {\n    href: \"https://swapi.dev/\",\n    target: \"_blank\",\n    title: \"the star wars api all the Star Wars data you've ever wanted\"\n  }, \"SWAPI (The Star Wars API)\"), \".\"), mdx(\"p\", null, \"If you would have a static list of all characters in you program, or a mock of a response that you would\\nwant to use within your test case, you case use an inline \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"require\"), \" statement (in alternative of importing the mock on the top of the file).\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"it(\\\"should get sort characters\\\", () => {\\n  const result = sortedByName(require(\\\"./starWarsCharacters.json\\\"));\\n\\n  expect(result).toMatchSnapshot();\\n});\\n\")), mdx(\"br\", null), mdx(\"h3\", {\n    \"id\": \"5-make-use-of-asyncawait\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"5. Make use of async/await\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#5-make-use-of-asyncawait\",\n    \"aria-label\": \"5 make use of asyncawait permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"style\": {\n      \"paddingLeft\": \"12px\"\n    },\n    \"width\": \"28\",\n    \"height\": \"16\",\n    \"fill\": \"#9f7aea\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"p\", null, \"It might also come the time where you need to perform some asynchronous work inside your test case, in that case, don't hesitate in recurring to \", mdx(\"a\", {\n    href: \"https://jestjs.io/docs/en/tutorial-async#async-await\",\n    target: \"_blank\",\n    title: \"jest docs using async await\"\n  }, \"async/await\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"it(\\\"get all star wars characters\\\", async () => {\\n  const data = await fetchStarWarsCharacters();\\n\\n  expect(data).toMatchSnapshot();\\n});\\n\")), mdx(\"p\", null, \"Oh, and there's also \", mdx(\"a\", {\n    href: \"https://jestjs.io/docs/en/tutorial-async#resolves\",\n    target: \"_blank\",\n    title: \"jest docs resolves\"\n  }, \".resolves\"), \".\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-javascript\"\n  }, \"it(\\\"get all star wars characters (with resolves)\\\", () => {\\n  const promise = fetchStarWarsCharacters();\\n\\n  return expect(promise).resolves.toMatchSnapshot();\\n});\\n\")), mdx(\"p\", null, \"Do you have more tips that in your opinion, fit nicely in this list? I would love to hear them.\"), mdx(\"h3\", {\n    \"id\": \"updates\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, \"Updates\", mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#updates\",\n    \"aria-label\": \"updates permalink\",\n    \"className\": \"anchor after\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"style\": {\n      \"paddingLeft\": \"12px\"\n    },\n    \"width\": \"28\",\n    \"height\": \"16\",\n    \"fill\": \"#9f7aea\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  })))), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"I talked about this on the \", mdx(\"em\", {\n    parentName: \"li\"\n  }, \"JavaScript Jabber Podcast\"), \", you can listen to the episode here: \", mdx(\"a\", {\n    href: \"https://topenddevs.com/podcasts/javascript-jabber/episodes/jsj-411-unit-testing-jest-with-daniel-caldas\",\n    target: \"_blank\",\n    alt: \"JSJ 411: Unit Testing Jest with Daniel Caldas\"\n  }, \"JSJ 411: Unit Testing Jest with Daniel Caldas\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"My friend \", mdx(\"a\", {\n    href: \"https://twitter.com/ayusharma_\",\n    target: \"_blank\",\n    title: \"Ayush Sharma twitter profile\"\n  }, \"@ayusharma\", \"_\"), \" told me that I should mention \", mdx(\"a\", {\n    href: \"https://jestjs.io/docs/en/jest-object#jestdomockmodulename-factory-options\",\n    target: \"_blank\",\n    title: \"The Jest Object \\xB7 Jest\"\n  }, \"jest.doMock\"), \" in this article. So here it is:\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"When using babel-jest, calls to mock will automatically be hoisted to the top of the code block. Use this method if you want to explicitly avoid this behavior.\")), mdx(\"p\", null, \"Think of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"jest.doMock\"), \" as a resource for you to mock differently the same module in various test cases that live under the same test file.\"), mdx(\"p\", null, \"Cheers!\"));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"As a front-end engineer by profession, and having a few JavaScript open source projects myself, I've faced some challenges around unit…","timeToRead":2,"banner":null,"parent":{"__typename":"Mdx","frontmatter":{"subtitle":null}}}},"pageContext":{"slug":"/blog/tips-jest-unit-testing","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["3090400250","3090400250","318001574"]}
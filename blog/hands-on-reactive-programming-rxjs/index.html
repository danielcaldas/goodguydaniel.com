<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.8f3e4f33da7e1eb34734.css">.Caption-module--container--2TsmO{text-align:center;margin-top:-6%}.Caption-module--container--2TsmO>p{color:#9f7aea;font-size:.8rem;margin:0}.Caption-module--container-gif--qmaJP{text-align:center;margin-top:.1%}.Caption-module--container-gif--qmaJP>p{color:#9f7aea;font-size:.8rem;margin:0}.Caption-module--source-text--3ZEQr{color:grey;font-size:.6rem}.GIF-module--gif-player-container--ORAsw{display:flex;justify-content:center}.GIF-module--gif-player--2_bHs{display:inline-block;position:relative;cursor:pointer;-webkit-user-select:none;-ms-user-select:none;user-select:none}.GIF-module--gif-play-button--1Kf9r{background-color:rgba(0,0,0,.5);border:2px dashed #fff;border-radius:50%;box-shadow:0 0 0 3px rgba(0,0,0,.5);color:#fff;cursor:pointer;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:24px;left:50%;font-weight:700;padding:14px 10px;position:absolute;top:50%;transform:translate(-50%,-50%) scale(1) rotate(0deg);transition:transform .4s,opacity .4s;pointer-events:none}.GIF-module--gif-play-button--1Kf9r:after{content:"GIF"}.ScrollToTopButton-module--container--33k-0{display:flex;justify-content:center;align-content:center;background-color:#9f7aea;border-radius:50%;cursor:pointer;z-index:9999;position:fixed;width:42px;height:42px;bottom:12px;right:12px;box-shadow:0 2px 5px 0 rgba(0,0,0,.8)}.ScrollToTopButton-module--arrow--9o7z4{display:block;fill:#fff;height:20px;margin:12px auto 0;width:20px}.Accordion-module--accordion--38sgz{cursor:pointer}.Accordion-module--accordion--38sgz summary{-webkit-user-select:none;-ms-user-select:none;user-select:none}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin "),local("IBM Plex Sans-Thin"),url(/static/ibm-plex-sans-latin-100-245539db8ee56425757ef728eda8194e.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100-9a582f3a304f421eca4027517706843c.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:100;src:local("IBM Plex Sans Thin italic"),local("IBM Plex Sans-Thinitalic"),url(/static/ibm-plex-sans-latin-100italic-3c34cf080b38f5fb1d4c59ffa45b3967.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-100italic-1ea7c5d21b5956b602bdf9656cfb353f.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light "),local("IBM Plex Sans-Extra Light"),url(/static/ibm-plex-sans-latin-200-bf72c8412ab06c393f52efc5beb26ea7.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200-67524c36348a323f78f2845e3aafc2d4.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:200;src:local("IBM Plex Sans Extra Light italic"),local("IBM Plex Sans-Extra Lightitalic"),url(/static/ibm-plex-sans-latin-200italic-bbc2d55223638ce450424a917e1104b2.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-200italic-52df25607ec284ca361ae50ba24b3580.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light "),local("IBM Plex Sans-Light"),url(/static/ibm-plex-sans-latin-300-9e1c48af24191f6ea8aede14957c5d01.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300-10bb6a0ae6dc8000d999ab622a45e281.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:300;src:local("IBM Plex Sans Light italic"),local("IBM Plex Sans-Lightitalic"),url(/static/ibm-plex-sans-latin-300italic-c76f2ab53673e964b6e6734c1c455761.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-300italic-d3566d5bb4f31d86bfb9fda09563b416.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular "),local("IBM Plex Sans-Regular"),url(/static/ibm-plex-sans-latin-400-263d6267533501f58c33b12b382e3abb.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400-a2c56f946488a9a267ba6ba21471a217.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:400;src:local("IBM Plex Sans Regular italic"),local("IBM Plex Sans-Regularitalic"),url(/static/ibm-plex-sans-latin-400italic-89a93a1bdde48c7bb104150de88affce.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-400italic-272f86114c980c52c131dfc3b4ae3276.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium "),local("IBM Plex Sans-Medium"),url(/static/ibm-plex-sans-latin-500-0866c24487514ad726738fb24f8e015b.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500-f6d5c5d5b849796d6a8f5a2953b60753.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:500;src:local("IBM Plex Sans Medium italic"),local("IBM Plex Sans-Mediumitalic"),url(/static/ibm-plex-sans-latin-500italic-ffd12d59339823b8cf53b9f99b47d87c.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-500italic-ccd41bd1a5bfa8bad2cd8d35fdaeb3d1.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold "),local("IBM Plex Sans-SemiBold"),url(/static/ibm-plex-sans-latin-600-7852d4dc26ef44df58e23dc0b9722d6f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600-337b16517a230dc830b84dc6e6167b68.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:600;src:local("IBM Plex Sans SemiBold italic"),local("IBM Plex Sans-SemiBolditalic"),url(/static/ibm-plex-sans-latin-600italic-17e5379fd9a99b9bcb26ea983f391b6a.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-600italic-6f4ba6aa87fa99d5bc2b90a7b40a0ded.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:normal;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold "),local("IBM Plex Sans-Bold"),url(/static/ibm-plex-sans-latin-700-c9983d3d04f3ed6c2eafee1db1d24e06.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700-b8809d619a33eb825b0450281ff752e7.woff) format("woff")}@font-face{font-family:IBM Plex Sans;font-style:italic;font-display:swap;font-weight:700;src:local("IBM Plex Sans Bold italic"),local("IBM Plex Sans-Bolditalic"),url(/static/ibm-plex-sans-latin-700italic-02954beec9e742bb1f3ae27b7e7cb71f.woff2) format("woff2"),url(/static/ibm-plex-sans-latin-700italic-72e9af409ddafc63a5dd380e34758560.woff) format("woff")}._404-module--container---hXYv{align-items:center;display:flex;flex-direction:column;height:100vh;justify-content:center;margin:8px;width:100vw}</style><meta name="generator" content="Gatsby 2.22.10"/><link rel="alternate" type="application/rss+xml" title="goodguydaniel.com" href="/rss.xml"/><title data-react-helmet="true">Hands-on Reactive Programming with RxJS | goodguydaniel.com</title><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><meta data-react-helmet="true" name="description" content="Part 3 - Hands-on Reactive Programming with RxJS This part of the series it&#x27;s all about getting your hands dirty! Part 3 is a tutorial on…"/><meta data-react-helmet="true" name="image" content="https://goodguydaniel.com/banner.jpg"/><meta data-react-helmet="true" property="og:title" content="Hands-on Reactive Programming with RxJS"/><meta data-react-helmet="true" property="og:url" content="https://goodguydaniel.com/blog/hands-on-reactive-programming-rxjs"/><meta data-react-helmet="true" property="og:description" content="Part 3 - Hands-on Reactive Programming with RxJS This part of the series it&#x27;s all about getting your hands dirty! Part 3 is a tutorial on…"/><meta data-react-helmet="true" property="og:image" content="https://goodguydaniel.com/banner.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:image:alt" content="Part 3 - Hands-on Reactive Programming with RxJS This part of the series it&#x27;s all about getting your hands dirty! Part 3 is a tutorial on…"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="Hands-on Reactive Programming with RxJS"/><meta data-react-helmet="true" name="twitter:url" content="https://goodguydaniel.com/blog/hands-on-reactive-programming-rxjs"/><meta data-react-helmet="true" name="twitter:description" content="Part 3 - Hands-on Reactive Programming with RxJS This part of the series it&#x27;s all about getting your hands dirty! Part 3 is a tutorial on…"/><meta data-react-helmet="true" name="twitter:image" content="https://goodguydaniel.com/banner.jpg"/><meta data-react-helmet="true" name="twitter:image:alt" content="Part 3 - Hands-on Reactive Programming with RxJS This part of the series it&#x27;s all about getting your hands dirty! Part 3 is a tutorial on…"/><meta data-react-helmet="true" name="twitter:creator" content="@_danielcaldas"/><meta data-react-helmet="true" name="monetization" content="$ilp.gatehub.net/102512169"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#6B46C1"/><link rel="apple-touch-icon" sizes="192x192" href="/android-chrome-192x192.png"/><link rel="apple-touch-icon" sizes="512x512" href="/android-chrome-512x512.png"/><link as="script" rel="preload" href="/webpack-runtime-94ae7dcc7bda68ea3647.js"/><link as="script" rel="preload" href="/framework-9fe058f4359556db0d38.js"/><link as="script" rel="preload" href="/f0e45107-14de746ffa42a2a3272a.js"/><link as="script" rel="preload" href="/app-b6b24f7e1c355f1b3502.js"/><link as="script" rel="preload" href="/styles-9b6f388623a2ec93d35f.js"/><link as="script" rel="preload" href="/f93c9fcf4e6185cfda80280209f9de679d68a866-476ea9779f3db9dffd97.js"/><link as="script" rel="preload" href="/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-f79cbd68de06dc3e07ff.js"/><link as="fetch" rel="preload" href="/page-data/blog/hands-on-reactive-programming-rxjs/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
  var mode = localStorage.getItem('theme-ui-color-mode');
  if (!mode) return
  document.body.classList.add('theme-ui-' + mode);
} catch (e) {} })();</script><div id="___gatsby"><style data-emotion-css="1hycliv">body{--theme-ui-colors-transparent:var(--theme-ui-colors-transparent,transparent);--theme-ui-colors-black:var(--theme-ui-colors-black,#000);--theme-ui-colors-white:var(--theme-ui-colors-white,#fff);--theme-ui-colors-gray-0:var(--theme-ui-colors-gray-0,null);--theme-ui-colors-gray-1:var(--theme-ui-colors-gray-1,#f7fafc);--theme-ui-colors-gray-2:var(--theme-ui-colors-gray-2,#edf2f7);--theme-ui-colors-gray-3:var(--theme-ui-colors-gray-3,#e2e8f0);--theme-ui-colors-gray-4:var(--theme-ui-colors-gray-4,#cbd5e0);--theme-ui-colors-gray-5:var(--theme-ui-colors-gray-5,#a0aec0);--theme-ui-colors-gray-6:var(--theme-ui-colors-gray-6,#718096);--theme-ui-colors-gray-7:var(--theme-ui-colors-gray-7,#4a5568);--theme-ui-colors-gray-8:var(--theme-ui-colors-gray-8,#2d3748);--theme-ui-colors-gray-9:var(--theme-ui-colors-gray-9,#1a202c);--theme-ui-colors-red-0:var(--theme-ui-colors-red-0,null);--theme-ui-colors-red-1:var(--theme-ui-colors-red-1,#fff5f5);--theme-ui-colors-red-2:var(--theme-ui-colors-red-2,#fed7d7);--theme-ui-colors-red-3:var(--theme-ui-colors-red-3,#feb2b2);--theme-ui-colors-red-4:var(--theme-ui-colors-red-4,#fc8181);--theme-ui-colors-red-5:var(--theme-ui-colors-red-5,#f56565);--theme-ui-colors-red-6:var(--theme-ui-colors-red-6,#e53e3e);--theme-ui-colors-red-7:var(--theme-ui-colors-red-7,#c53030);--theme-ui-colors-red-8:var(--theme-ui-colors-red-8,#9b2c2c);--theme-ui-colors-red-9:var(--theme-ui-colors-red-9,#742a2a);--theme-ui-colors-orange-0:var(--theme-ui-colors-orange-0,null);--theme-ui-colors-orange-1:var(--theme-ui-colors-orange-1,#fffaf0);--theme-ui-colors-orange-2:var(--theme-ui-colors-orange-2,#feebc8);--theme-ui-colors-orange-3:var(--theme-ui-colors-orange-3,#fbd38d);--theme-ui-colors-orange-4:var(--theme-ui-colors-orange-4,#f6ad55);--theme-ui-colors-orange-5:var(--theme-ui-colors-orange-5,#ed8936);--theme-ui-colors-orange-6:var(--theme-ui-colors-orange-6,#dd6b20);--theme-ui-colors-orange-7:var(--theme-ui-colors-orange-7,#c05621);--theme-ui-colors-orange-8:var(--theme-ui-colors-orange-8,#9c4221);--theme-ui-colors-orange-9:var(--theme-ui-colors-orange-9,#7b341e);--theme-ui-colors-yellow-0:var(--theme-ui-colors-yellow-0,null);--theme-ui-colors-yellow-1:var(--theme-ui-colors-yellow-1,#fffff0);--theme-ui-colors-yellow-2:var(--theme-ui-colors-yellow-2,#fefcbf);--theme-ui-colors-yellow-3:var(--theme-ui-colors-yellow-3,#faf089);--theme-ui-colors-yellow-4:var(--theme-ui-colors-yellow-4,#f6e05e);--theme-ui-colors-yellow-5:var(--theme-ui-colors-yellow-5,#ecc94b);--theme-ui-colors-yellow-6:var(--theme-ui-colors-yellow-6,#d69e2e);--theme-ui-colors-yellow-7:var(--theme-ui-colors-yellow-7,#b7791f);--theme-ui-colors-yellow-8:var(--theme-ui-colors-yellow-8,#975a16);--theme-ui-colors-yellow-9:var(--theme-ui-colors-yellow-9,#744210);--theme-ui-colors-green-0:var(--theme-ui-colors-green-0,null);--theme-ui-colors-green-1:var(--theme-ui-colors-green-1,#f0fff4);--theme-ui-colors-green-2:var(--theme-ui-colors-green-2,#c6f6d5);--theme-ui-colors-green-3:var(--theme-ui-colors-green-3,#9ae6b4);--theme-ui-colors-green-4:var(--theme-ui-colors-green-4,#68d391);--theme-ui-colors-green-5:var(--theme-ui-colors-green-5,#48bb78);--theme-ui-colors-green-6:var(--theme-ui-colors-green-6,#38a169);--theme-ui-colors-green-7:var(--theme-ui-colors-green-7,#2f855a);--theme-ui-colors-green-8:var(--theme-ui-colors-green-8,#276749);--theme-ui-colors-green-9:var(--theme-ui-colors-green-9,#22543d);--theme-ui-colors-teal-0:var(--theme-ui-colors-teal-0,null);--theme-ui-colors-teal-1:var(--theme-ui-colors-teal-1,#e6fffa);--theme-ui-colors-teal-2:var(--theme-ui-colors-teal-2,#b2f5ea);--theme-ui-colors-teal-3:var(--theme-ui-colors-teal-3,#81e6d9);--theme-ui-colors-teal-4:var(--theme-ui-colors-teal-4,#4fd1c5);--theme-ui-colors-teal-5:var(--theme-ui-colors-teal-5,#38b2ac);--theme-ui-colors-teal-6:var(--theme-ui-colors-teal-6,#319795);--theme-ui-colors-teal-7:var(--theme-ui-colors-teal-7,#2c7a7b);--theme-ui-colors-teal-8:var(--theme-ui-colors-teal-8,#285e61);--theme-ui-colors-teal-9:var(--theme-ui-colors-teal-9,#234e52);--theme-ui-colors-blue-0:var(--theme-ui-colors-blue-0,null);--theme-ui-colors-blue-1:var(--theme-ui-colors-blue-1,#ebf8ff);--theme-ui-colors-blue-2:var(--theme-ui-colors-blue-2,#bee3f8);--theme-ui-colors-blue-3:var(--theme-ui-colors-blue-3,#90cdf4);--theme-ui-colors-blue-4:var(--theme-ui-colors-blue-4,#63b3ed);--theme-ui-colors-blue-5:var(--theme-ui-colors-blue-5,#4299e1);--theme-ui-colors-blue-6:var(--theme-ui-colors-blue-6,#3182ce);--theme-ui-colors-blue-7:var(--theme-ui-colors-blue-7,#2b6cb0);--theme-ui-colors-blue-8:var(--theme-ui-colors-blue-8,#2c5282);--theme-ui-colors-blue-9:var(--theme-ui-colors-blue-9,#2a4365);--theme-ui-colors-indigo-0:var(--theme-ui-colors-indigo-0,null);--theme-ui-colors-indigo-1:var(--theme-ui-colors-indigo-1,#ebf4ff);--theme-ui-colors-indigo-2:var(--theme-ui-colors-indigo-2,#c3dafe);--theme-ui-colors-indigo-3:var(--theme-ui-colors-indigo-3,#a3bffa);--theme-ui-colors-indigo-4:var(--theme-ui-colors-indigo-4,#7f9cf5);--theme-ui-colors-indigo-5:var(--theme-ui-colors-indigo-5,#667eea);--theme-ui-colors-indigo-6:var(--theme-ui-colors-indigo-6,#5a67d8);--theme-ui-colors-indigo-7:var(--theme-ui-colors-indigo-7,#4c51bf);--theme-ui-colors-indigo-8:var(--theme-ui-colors-indigo-8,#434190);--theme-ui-colors-indigo-9:var(--theme-ui-colors-indigo-9,#3c366b);--theme-ui-colors-purple-0:var(--theme-ui-colors-purple-0,null);--theme-ui-colors-purple-1:var(--theme-ui-colors-purple-1,#faf5ff);--theme-ui-colors-purple-2:var(--theme-ui-colors-purple-2,#e9d8fd);--theme-ui-colors-purple-3:var(--theme-ui-colors-purple-3,#d6bcfa);--theme-ui-colors-purple-4:var(--theme-ui-colors-purple-4,#b794f4);--theme-ui-colors-purple-5:var(--theme-ui-colors-purple-5,#9f7aea);--theme-ui-colors-purple-6:var(--theme-ui-colors-purple-6,#805ad5);--theme-ui-colors-purple-7:var(--theme-ui-colors-purple-7,#6b46c1);--theme-ui-colors-purple-8:var(--theme-ui-colors-purple-8,#553c9a);--theme-ui-colors-purple-9:var(--theme-ui-colors-purple-9,#44337a);--theme-ui-colors-pink-0:var(--theme-ui-colors-pink-0,null);--theme-ui-colors-pink-1:var(--theme-ui-colors-pink-1,#fff5f7);--theme-ui-colors-pink-2:var(--theme-ui-colors-pink-2,#fed7e2);--theme-ui-colors-pink-3:var(--theme-ui-colors-pink-3,#fbb6ce);--theme-ui-colors-pink-4:var(--theme-ui-colors-pink-4,#f687b3);--theme-ui-colors-pink-5:var(--theme-ui-colors-pink-5,#ed64a6);--theme-ui-colors-pink-6:var(--theme-ui-colors-pink-6,#d53f8c);--theme-ui-colors-pink-7:var(--theme-ui-colors-pink-7,#b83280);--theme-ui-colors-pink-8:var(--theme-ui-colors-pink-8,#97266d);--theme-ui-colors-pink-9:var(--theme-ui-colors-pink-9,#702459);--theme-ui-colors-grayDark:var(--theme-ui-colors-grayDark,#2d3748);--theme-ui-colors-text:var(--theme-ui-colors-text,#2d3748);--theme-ui-colors-background:var(--theme-ui-colors-background,#fff);--theme-ui-colors-primary:var(--theme-ui-colors-primary,#6b46c1);--theme-ui-colors-primaryHover:var(--theme-ui-colors-primaryHover,#2c5282);--theme-ui-colors-secondary:var(--theme-ui-colors-secondary,#5f6c80);--theme-ui-colors-muted:var(--theme-ui-colors-muted,#e2e8f0);--theme-ui-colors-success:var(--theme-ui-colors-success,#9ae6b4);--theme-ui-colors-info:var(--theme-ui-colors-info,#63b3ed);--theme-ui-colors-warning:var(--theme-ui-colors-warning,#faf089);--theme-ui-colors-danger:var(--theme-ui-colors-danger,#feb2b2);--theme-ui-colors-light:var(--theme-ui-colors-light,#f7fafc);--theme-ui-colors-dark:var(--theme-ui-colors-dark,#2d3748);--theme-ui-colors-textMuted:var(--theme-ui-colors-textMuted,#718096);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-toggleIcon,#2d3748);--theme-ui-colors-heading:var(--theme-ui-colors-heading,#000);--theme-ui-colors-divide:var(--theme-ui-colors-divide,#cbd5e0);color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);}body.theme-ui-dark{--theme-ui-colors-text:var(--theme-ui-colors-modes-dark-text,#cbd5e0);--theme-ui-colors-primary:var(--theme-ui-colors-modes-dark-primary,#9f7aea);--theme-ui-colors-secondary:var(--theme-ui-colors-modes-dark-secondary,#7f8ea3);--theme-ui-colors-toggleIcon:var(--theme-ui-colors-modes-dark-toggleIcon,#cbd5e0);--theme-ui-colors-background:var(--theme-ui-colors-modes-dark-background,#1A202C);--theme-ui-colors-heading:var(--theme-ui-colors-modes-dark-heading,#fff);--theme-ui-colors-divide:var(--theme-ui-colors-modes-dark-divide,#2d3748);--theme-ui-colors-muted:var(--theme-ui-colors-modes-dark-muted,#2d3748);}</style><style data-emotion-css="15y10hy">*{box-sizing:border-box;}body{margin:0;font-family:"IBM Plex Sans",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.625;font-weight:400;color:var(--theme-ui-colors-text,#2d3748);background-color:var(--theme-ui-colors-background,#fff);padding:0;box-sizing:border-box;text-rendering:optimizeLegibility;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1s131zq">*{box-sizing:inherit;}::selection{background-color:var(--theme-ui-colors-text,#2d3748);color:var(--theme-ui-colors-background,#fff);}a{-webkit-transition:all 0.3s ease-in-out;transition:all 0.3s ease-in-out;color:text;}</style><style data-emotion-css="1g597hz">.css-1g597hz{border:0;-webkit-clip:react(0 0 0 0);clip:react(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;overflow:hidden;position:absolute;}.css-1g597hz:focus{padding:1rem;position:fixed;top:15px;left:15px;background-color:var(--theme-ui-colors-heading,#000);color:var(--theme-ui-colors-background,#fff);z-index:1;width:auto;height:auto;-webkit-clip:auto;clip:auto;-webkit-text-decoration:none;text-decoration:none;}</style><a href="#skip-nav" data-skip-link="true" class="css-1g597hz">Skip to content</a><style data-emotion-css="1jrqzhj">.css-1jrqzhj{box-sizing:border-box;margin:0;min-width:0;width:100%;max-width:container;margin-left:auto;margin-right:auto;padding:1rem;max-width:1024px;}@media screen and (min-width:640px){.css-1jrqzhj{padding:2rem;}}</style><div class="css-1jrqzhj"><style data-emotion-css="1wt4r56">.css-1wt4r56{margin-bottom:4rem;}@media screen and (min-width:640px){.css-1wt4r56{margin-bottom:8rem;}}</style><header class="css-1wt4r56"><style data-emotion-css="1eswzqe">.css-1eswzqe{-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><style data-emotion-css="190uhut">.css-190uhut{box-sizing:border-box;margin:0;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-190uhut"><style data-emotion-css="dz3ojy">.css-dz3ojy{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:none;text-decoration:none;}</style><a aria-label="goodguydaniel.com - Back to home" class="css-dz3ojy" href="/"><style data-emotion-css="1kmktz0">.css-1kmktz0{margin-top:0;margin-bottom:0;font-weight:500;font-size:1.5rem;}@media screen and (min-width:640px){.css-1kmktz0{font-size:1.875rem;}}</style><h1 class="css-1kmktz0">goodguydaniel.com</h1></a><style data-emotion-css="af3ja4">.css-af3ja4{opacity:0.65;position:relative;border-radius:5px;width:40px;height:25px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-transition:opacity 0.3s ease;transition:opacity 0.3s ease;border:none;outline:none;background:none;cursor:pointer;padding:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;}.css-af3ja4:hover,.css-af3ja4:focus{opacity:1;}</style><button type="button" aria-label="Activate Dark Mode" title="Activate Dark Mode" class="css-af3ja4"><style data-emotion-css="iiu7h7">.css-iiu7h7{position:relative;width:24px;height:24px;border-radius:50%;border:none;background-color:var(--theme-ui-colors-transparent,transparent);-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transition:all 0.45s ease;transition:all 0.45s ease;overflow:hidden;box-shadow:inset 8px -8px 0px 0px var(--theme-ui-colors-toggleIcon,#2d3748);}.css-iiu7h7:before{content:"";position:absolute;right:-9px;top:-9px;height:24px;width:24px;border:none;border-radius:50%;-webkit-transform:translate(0,0);-ms-transform:translate(0,0);transform:translate(0,0);opacity:1;-webkit-transition:-webkit-transform 0.45s ease;-webkit-transition:transform 0.45s ease;transition:transform 0.45s ease;}.css-iiu7h7:after{content:"";width:8px;height:8px;border-radius:50%;margin:-4px 0 0 -4px;position:absolute;top:50%;left:50%;box-shadow:0 -23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),0 23px 0 var(--theme-ui-colors-toggleIcon,#2d3748),23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),-23px 0 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px 15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748),-15px -15px 0 var(--theme-ui-colors-toggleIcon,#2d3748);-webkit-transform:scale(0);-ms-transform:scale(0);transform:scale(0);-webkit-transition:all 0.35s ease;transition:all 0.35s ease;}</style><div class="css-iiu7h7"></div></button></div><style data-emotion-css="1kvspmd">.css-1kvspmd{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;border-bottom-style:solid;border-bottom-width:1px;border-bottom-color:var(--theme-ui-colors-divide,#cbd5e0);padding-bottom:1rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:1rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-flow:wrap;-ms-flex-flow:wrap;flex-flow:wrap;}.css-1kvspmd a{color:var(--theme-ui-colors-secondary,#5f6c80);}.css-1kvspmd a:hover{color:var(--theme-ui-colors-heading,#000);}</style><div class="css-1kvspmd"><style data-emotion-css="nrb238">.css-nrb238{font-size:1rem;}.css-nrb238 a:not(:last-of-type){margin-right:1rem;}@media screen and (min-width:640px){.css-nrb238{font-size:18px;}}.css-nrb238 .active{color:var(--theme-ui-colors-heading,#000);}</style><nav class="css-nrb238"><style data-emotion-css="688a3f">.css-688a3f{box-sizing:border-box;margin:0;min-width:0;color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-688a3f:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a class="css-688a3f" href="/blog">Blog</a><a class="css-688a3f" href="/aboutme">About</a></nav><style data-emotion-css="e5k4e3">.css-e5k4e3{font-size:1rem;}.css-e5k4e3 a:not(:first-of-type){margin-left:1rem;}@media screen and (min-width:640px){.css-e5k4e3{font-size:18px;}}</style><div class="css-e5k4e3"><a href="https://twitter.com/_danielcaldas" target="_blank" class="css-688a3f">Twitter</a><a href="https://www.github.com/danielcaldas/" target="_blank" class="css-688a3f">GitHub</a><a href="https://www.linkedin.com/in/daniel-caldas/" target="_blank" class="css-688a3f">LinkedIn</a><a href="mailto:caldasjdaniel@gmail.com" target="_blank" class="css-688a3f">Email</a></div></div></header><style data-emotion-css="1yl4oui">.css-1yl4oui [data-name='live-editor']{font-size:1rem;}.css-1yl4oui [data-name='live-editor'] textarea,.css-1yl4oui [data-name='live-editor'] pre{padding:1rem !important;}.css-1yl4oui [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-1yl4oui .prism-code{font-size:1rem;padding:1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);overflow:initial;float:left;min-width:100%;margin-bottom:0;}.css-1yl4oui .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-1yl4oui .token{display:inline-block;}.css-1yl4oui p > code,.css-1yl4oui li > code{background-color:rgb(1,22,39);color:rgb(214,222,235);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-1yl4oui .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);overflow:auto;border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1yl4oui .gatsby-highlight{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1yl4oui .gatsby-highlight{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1yl4oui .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-1yl4oui .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;}.css-1yl4oui .gatsby-highlight pre.language-{margin-top:0;}.css-1yl4oui .gatsby-highlight pre.language-noLineNumbers{margin-top:0;}.css-1yl4oui .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-1yl4oui .gatsby-highlight pre[class~="language-javascript"]:before,.css-1yl4oui .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-1yl4oui .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1yl4oui .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1yl4oui .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-1yl4oui .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1yl4oui .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1yl4oui .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-1yl4oui .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-1yl4oui .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-1yl4oui .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-1yl4oui .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-1yl4oui .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-1yl4oui .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-1yl4oui .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-1yl4oui .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-1yl4oui .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-1yl4oui .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-1yl4oui .gatsby-highlight pre[class~='language-json']:before,.css-1yl4oui .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-1yl4oui .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-1yl4oui .gatsby-highlight > code[class*="language-"],.css-1yl4oui .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-1yl4oui .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-1yl4oui .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1yl4oui .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1yl4oui .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1yl4oui .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-1yl4oui [data-name='live-preview'],.css-1yl4oui [data-name='live-editor']{margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-1yl4oui [data-name='live-preview'],.css-1yl4oui [data-name='live-editor']{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-1yl4oui [data-name='live-preview'],.css-1yl4oui [data-name='live-editor']{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-1yl4oui [data-name='live-preview'],.css-1yl4oui [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-1yl4oui .token-line{padding-right:1rem;}.css-1yl4oui .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-1yl4oui .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}</style><style data-emotion-css="45xo9g">.css-45xo9g{box-sizing:border-box;margin:0;min-width:0;}.css-45xo9g [data-name='live-editor']{font-size:1rem;}.css-45xo9g [data-name='live-editor'] textarea,.css-45xo9g [data-name='live-editor'] pre{padding:1rem !important;}.css-45xo9g [data-name='live-preview']{padding:calc(0.5rem + 10px) !important;background-color:#d2c7ec;}.css-45xo9g .prism-code{font-size:1rem;padding:1rem;webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-transparent,transparent);overflow:initial;float:left;min-width:100%;margin-bottom:0;}.css-45xo9g .prism-code[data-linenumber="false"] .token-line{padding-left:1rem;}.css-45xo9g .token{display:inline-block;}.css-45xo9g p > code,.css-45xo9g li > code{background-color:rgb(1,22,39);color:rgb(214,222,235);padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;border-radius:2px;}.css-45xo9g .gatsby-highlight{font-size:1rem;position:relative;webkit-overflow-scrolling:touch;background-color:rgb(1,22,39);overflow:auto;border-radius:2px;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-45xo9g .gatsby-highlight{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-45xo9g .gatsby-highlight{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-45xo9g .gatsby-highlight{margin-left:-1rem;margin-right:-1rem;}}.css-45xo9g .gatsby-highlight .token-line{margin-left:-1rem;margin-right:-1rem;}.css-45xo9g .gatsby-highlight pre.language-{margin-top:0;}.css-45xo9g .gatsby-highlight pre.language-noLineNumbers{margin-top:0;}.css-45xo9g .gatsby-highlight pre[class*="language-"]:before{background-color:var(--theme-ui-colors-white,#fff);border-radius:0 0 0.25rem 0.25rem;color:var(--theme-ui-colors-black,#000);font-size:12px;-webkit-letter-spacing:0.025rem;-moz-letter-spacing:0.025rem;-ms-letter-spacing:0.025rem;letter-spacing:0.025rem;padding:0.1rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}.css-45xo9g .gatsby-highlight pre[class~="language-javascript"]:before,.css-45xo9g .gatsby-highlight pre[class~="language-js"]:before{content:"js";background:#f7df1e;color:var(--theme-ui-colors-black,#000);}.css-45xo9g .gatsby-highlight pre[class~="language-jsx"]:before{content:"jsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-45xo9g .gatsby-highlight pre[class~="language-ts"]:before{content:"ts";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-45xo9g .gatsby-highlight pre[class~="language-tsx"]:before{content:"tsx";background:#61dafb;color:var(--theme-ui-colors-black,#000);}.css-45xo9g .gatsby-highlight pre[class~="language-html"]:before{content:"html";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-45xo9g .gatsby-highlight pre[class~="language-xml"]:before{content:"xml";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-45xo9g .gatsby-highlight pre[class~="language-svg"]:before{content:"svg";background:#005a9c;color:var(--theme-ui-colors-white,#fff);}.css-45xo9g .gatsby-highlight pre[class~="language-graphql"]:before{content:"GraphQL";background:#E10098;}.css-45xo9g .gatsby-highlight pre[class~="language-css"]:before{content:"css";background:#ff9800;color:var(--theme-ui-colors-black,#000);}.css-45xo9g .gatsby-highlight pre[class~="language-mdx"]:before{content:"mdx";background:#f9ac00;color:var(--theme-ui-colors-black,#000);}.css-45xo9g .gatsby-highlight pre[class~="language-text"]:before{content:"text";}.css-45xo9g .gatsby-highlight pre[class~='language-shell']:before{content:'shell';}.css-45xo9g .gatsby-highlight pre[class~='language-sh']:before{content:'sh';}.css-45xo9g .gatsby-highlight pre[class~='language-bash']:before{content:'bash';}.css-45xo9g .gatsby-highlight pre[class~='language-yaml']:before{content:'yaml';background:#ffa8df;}.css-45xo9g .gatsby-highlight pre[class~='language-yml']:before{content:'yml';background:#ffa8df;}.css-45xo9g .gatsby-highlight pre[class~='language-markdown']:before{content:'md';}.css-45xo9g .gatsby-highlight pre[class~='language-json']:before,.css-45xo9g .gatsby-highlight pre[class~='language-json5']:before{content:'json';background:linen;}.css-45xo9g .gatsby-highlight pre[class~='language-diff']:before{content:'diff';background:#e6ffed;}.css-45xo9g .gatsby-highlight > code[class*="language-"],.css-45xo9g .gatsby-highlight > pre[class=*="language-"]{word-spacing:normal;word-break:normal;overflow-wrap:normal;line-height:1.5;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;}.css-45xo9g .line-number-style{display:inline-block;width:3em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;opacity:0.3;text-align:center;position:relative;}.css-45xo9g .code-title{background-color:#d2c7ec;color:var(--theme-ui-colors-black,#000);font-size:0.875rem;padding-left:1rem;padding-right:1rem;padding-top:0.5rem;padding-bottom:0.5rem;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-45xo9g .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-45xo9g .code-title{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-45xo9g .code-title{margin-left:-1rem;margin-right:-1rem;}}.css-45xo9g [data-name='live-preview'],.css-45xo9g [data-name='live-editor']{margin-left:0;margin-right:0;}@media screen and (min-width:640px){.css-45xo9g [data-name='live-preview'],.css-45xo9g [data-name='live-editor']{margin-left:0;margin-right:0;}}@media screen and (min-width:768px){.css-45xo9g [data-name='live-preview'],.css-45xo9g [data-name='live-editor']{margin-left:0;margin-right:0;}}@media screen and (min-width:1024px){.css-45xo9g [data-name='live-preview'],.css-45xo9g [data-name='live-editor']{margin-left:-1rem;margin-right:-1rem;}}.css-45xo9g .token-line{padding-right:1rem;}.css-45xo9g .highlight-line{background-color:rgb(2,55,81);border-left:4px solid rgb(2,155,206);}.css-45xo9g .highlight-line .line-number-style{width:calc(3em - 4px);opacity:0.5;left:-2px;}</style><div id="skip-nav" class="css-45xo9g"><style data-emotion-css="1wy36g2">.css-1wy36g2{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.875rem;margin-top:0.5rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1wy36g2{font-size:2.25rem;}}@media screen and (min-width:768px){.css-1wy36g2{font-size:3rem;}}</style><h2 class="css-1wy36g2">Hands-on Reactive Programming with RxJS</h2><style data-emotion-css="wjw5xk">.css-wjw5xk{box-sizing:border-box;margin:0;min-width:0;font-family:inherit;font-weight:700;line-height:1.25;font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.25rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-wjw5xk{font-size:1.5rem;}}@media screen and (min-width:768px){.css-wjw5xk{font-size:1.875rem;}}</style><h2 class="css-wjw5xk">Reactive Series - Part 3</h2><style data-emotion-css="1fkzbc2">.css-1fkzbc2{color:var(--theme-ui-colors-secondary,#5f6c80);margin-top:1rem;font-size:1rem;}.css-1fkzbc2 a{color:var(--theme-ui-colors-secondary,#5f6c80);}@media screen and (min-width:640px){.css-1fkzbc2{font-size:1rem;}}@media screen and (min-width:768px){.css-1fkzbc2{font-size:1.25rem;}}</style><p class="css-1fkzbc2"><time>16.09.2020</time> — <a class="css-688a3f" href="/tags/java-script">JavaScript</a>, <a class="css-688a3f" href="/tags/reactive-programming">Reactive Programming</a> — <span>14<!-- --> min read</span></p><style data-emotion-css="f0b8g7">.css-f0b8g7{margin-top:4rem;margin-bottom:4rem;}.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;box-shadow:rgba(0,0,0,0.15) 0px 32px 32px 0px,rgba(0,0,0,0.15) 0px 16px 16px 0px,rgba(0,0,0,0.15) 0px 8px 8px 0px,rgba(0,0,0,0.15) 0px 4px 4px 0px;}@media screen and (min-width:640px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:2rem;margin-bottom:2rem;}}@media screen and (min-width:768px){.css-f0b8g7 .gatsby-resp-image-wrapper{margin-top:4rem;margin-bottom:4rem;}}</style><section class="css-f0b8g7"><style data-emotion-css="15rlv7r">.css-15rlv7r li{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-15rlv7r li{font-size:1rem;}}@media screen and (min-width:768px){.css-15rlv7r li{font-size:1.25rem;}}</style><ul class="css-15rlv7r"><li class="css-0"><style data-emotion-css="1od09yo">.css-1od09yo{color:var(--theme-ui-colors-primary,#6b46c1);-webkit-text-decoration:none;text-decoration:none;}.css-1od09yo:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="https://goodguydaniel.com/blog/why-reactive-programming" target="_blank" title="Why You Should Consider Reactive Programming | goodguydaniel.com" class="css-1od09yo">Part 1 - Why You Should Consider Reactive Programming</a></li><li class="css-0"><a href="https://goodguydaniel.com/blog/reactive-programming-fundamentals" target="_blank" title="Fundamentals of Reactive Programming | goodguydaniel.com" class="css-1od09yo">Part 2 - Fundamentals of Reactive Programming</a></li><li class="css-0"><strong class="css-0">Part 3 - Hands-on Reactive Programming with RxJS</strong></li><li class="css-0"><a href="https://goodguydaniel.com/blog/reactive-rxjs-pros-cons" target="_blank" title="Reactive Programming: The Good and the Bad | goodguydaniel.com" class="css-1od09yo">Part 4 - Reactive Programming: The Good and the Bad</a></li><li class="css-0"><a href="https://goodguydaniel.com/blog/awesome-reactive" target="_blank" title="Awesome RxJS and Reactive Programming Resources | goodguydaniel.com" class="css-1od09yo">Part 5 - Awesome RxJS and Reactive Programming Resources</a></li></ul><style data-emotion-css="1ldi06f">.css-1ldi06f{background-color:var(--theme-ui-colors-muted,#e2e8f0);border:0;height:1px;margin:1rem;}</style><hr class="css-1ldi06f"/><style data-emotion-css="1bkk5q4">.css-1bkk5q4{font-size:1rem;-webkit-letter-spacing:-0.003em;-moz-letter-spacing:-0.003em;-ms-letter-spacing:-0.003em;letter-spacing:-0.003em;line-height:1.625;--baseline-multiplier:0.179;--x-height-multiplier:0.35;}@media screen and (min-width:640px){.css-1bkk5q4{font-size:1rem;}}@media screen and (min-width:768px){.css-1bkk5q4{font-size:1.25rem;}}</style><p class="css-1bkk5q4">This part of the series it&#x27;s all about getting your hands dirty! Part 3 is a tutorial on core techniques to build an application with reactive streams using <a href="https://rxjs-dev.firebaseapp.com/" target="_blank" title="A reactive programming library for JavaScript" class="css-1od09yo">RxJS</a>.</p><ul class="css-15rlv7r"><li class="css-0"><a href="#warmup---handle-a-click-event-with-rxjs" class="css-1od09yo">Warmup - Handle a click event with RxJS</a></li><li class="css-0"><a href="#rxjs-overview" class="css-1od09yo">RxJS Overview</a></li><li class="css-0"><a href="#lets-build-something" class="css-1od09yo">Let&#x27;s build something!</a></li><li class="css-0"><a href="#level-1---combining-streams-of-dom-events" class="css-1od09yo">Level 1 - Combining streams of DOM events</a></li><li class="css-0"><a href="#level-2---hacking-race-conditions-with-artificial-delays" class="css-1od09yo">Level 2 - Hacking race conditions with artificial delays</a></li><li class="css-0"><a href="#level-3---merging-streams-into-one-stream" class="css-1od09yo">Level 3 - Merging streams into one stream</a><ul class="css-15rlv7r"><li class="css-0"><a href="#bonus-for-level-3" class="css-1od09yo">Bonus for Level 3</a></li><li class="css-0"><a href="#note-about-the-coding-style" class="css-1od09yo">Note about the coding style</a></li></ul></li><li class="css-0"><a href="#level-4---flatten-observables-timers-and-cancellation" class="css-1od09yo">Level 4 - Flatten observables, timers and cancellation</a></li><li class="css-0"><a href="#closing-notes" class="css-1od09yo">Closing Notes</a></li></ul><p class="css-1bkk5q4">We&#x27;re going to start with a small refresher from <a href="https://goodguydaniel.com/blog/reactive-programming-fundamentals" target="_blank" title="Fundamentals of Reactive Programming | goodguydaniel.com" class="css-1od09yo">the previous article</a>, implementing a click event handler with <a href="https://rxjs-dev.firebaseapp.com/" target="_blank" title="A reactive programming library for JavaScript" class="css-1od09yo">RxJS</a>. Next, we&#x27;ll have a brief overview of RxJS, followed by the main challenge of building a small animated game the reactive way.</p><style data-emotion-css="1slx2ud">.css-1slx2ud{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.25rem;font-size:1.25rem;color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-1slx2ud{font-size:1.5rem;}}@media screen and (min-width:768px){.css-1slx2ud{font-size:1.875rem;}}</style><h4 id="warmup---handle-a-click-event-with-rxjs" style="position:relative" class="css-1slx2ud">Warmup - Handle a click event with RxJS<a href="#warmup---handle-a-click-event-with-rxjs" aria-label="warmup   handle a click event with rxjs permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4><p class="css-1bkk5q4">Here&#x27;s how a usual JavaScript event handler function looks like.</p><div class="gatsby-highlight" data-language="html"><pre class="prism-code language-html" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">button</span><span class="token tag" style="color:rgb(127, 219, 202)"> </span><span class="token tag attr-name" style="color:rgb(173, 219, 103);font-style:italic">id</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(127, 219, 202)">btn</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">+1</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">button</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></pre></div><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> btn </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getElementById</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;btn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> counter </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">btn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">addEventListener</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;click&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  counter</span><span class="token operator" style="color:rgb(127, 219, 202)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">counter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">In the above code, we&#x27;re incrementing <code class="css-0">counter</code> that is global and logging its value each time we update it.</p><p class="css-1bkk5q4">Usually, we don&#x27;t increment globals or <code class="css-0">console.log</code> directly in real-life apps, but we do have other side-effects in place (like updating something else in the UI, triggering a web request, firing an animation, etc.). You can always organize your code to split concerns, but it seems the event handler is already doing two very distinct things, and we&#x27;re barely getting started.</p><p class="css-1bkk5q4">Let&#x27;s take a look at how this looks like in the reactive world, with RxJS. Here&#x27;s how you should visualize and implement a stream of click events.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:26.666666666666668%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAwklEQVQY02VPQQrCMBDMO736Bp8gCH7Aq3d/ICriwYsHwVZQRKw1ELTWpkabZrtZo7UoOszCMOwuM8yWIHrSTSnoDedUHn3WXj6iZfQNawvQpUREgLzURQGO9AcmpeScJ1ImivhmuOrXDjtP3ilcdNeDuhDicsVg1lqNG6c4S+QtTlSqsoCf537IAEBrbYxBS7HwvXEzOu7dV7Ed+ZN2mkrnh8ueP+3oHF0CYwALvKosihX7SQJYNXBpq+ruHu1/anoAOuEdkfrffAgAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="marbles diagram of a click event stream" title="marbles diagram of a click event stream" src="/static/0f6a46f06607e8c349fa76b52ea83d73/7d769/marbles-level-0-1.png" srcSet="/static/0f6a46f06607e8c349fa76b52ea83d73/5243c/marbles-level-0-1.png 240w,/static/0f6a46f06607e8c349fa76b52ea83d73/ab158/marbles-level-0-1.png 480w,/static/0f6a46f06607e8c349fa76b52ea83d73/7d769/marbles-level-0-1.png 960w,/static/0f6a46f06607e8c349fa76b52ea83d73/87339/marbles-level-0-1.png 1440w,/static/0f6a46f06607e8c349fa76b52ea83d73/f0f6e/marbles-level-0-1.png 1856w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4"><b class="css-0">e</b> stands for <b class="css-0">event</b> and it&#x27;s the value pushed to the stream at each click in the button element, just like you would have an <b class="css-0">event</b> argument in the typical <b class="css-0">onClick</b> callback (event handler) at each click.</p></div><br/><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> counter </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> click$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fromEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">btn</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;click&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">click$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  counter</span><span class="token operator" style="color:rgb(127, 219, 202)">++</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">counter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">A few things to notice here:</p><ul class="css-15rlv7r"><li class="css-0"><a href="https://rxjs-dev.firebaseapp.com/api/index/function/fromEvent" target="_blank" title="RxJS - fromEvent" class="css-1od09yo">fromEvent</a> is the tool in RxJS that will allow you to transform any DOM event into an Observable, a stream of events of a given type (like click, drag, scroll etc.).</li><li class="css-0"><code class="css-0">subscribe</code> is a must! Without subscribing to our stream, nothing would ever happen.</li><li class="css-0">The <code class="css-0">$</code> is just a common (non-standard) notation to identify streams in your code - totally optionally, no need to follow.</li></ul><p class="css-1bkk5q4">Opposite to the click event handler, you can subscribe to the stream of clicks as many times as you want and split all kinds of different tasks into separate subscriptions that <strong class="css-0">share the same event listener</strong>! <strong class="css-0">Attaching event handlers to the DOM is costly</strong> especially due to the event attaching phase that happens at page load (<code class="css-0">onload</code> or <code class="css-0">DOMContentReady</code> events) a busy period for modern web applications - <i class="css-0">paraphrased from <a href="https://www.oreilly.com/library/view/high-performance-javascript/9781449382308/" target="_blank" rel="nofollow" title="High Performance JavaScript, book by Nicholas C. Zakas" class="css-1od09yo">&quot;High Performance JavaScript&quot;, book by Nicholas C. Zakas</a></i>.</p><p class="css-1bkk5q4">In a way, things are opening up, you get a more flexible model to organize your code, compared to the classic event handler callback.</p><style data-emotion-css="1gtwvjp">.css-1gtwvjp{border-left-color:var(--theme-ui-colors-primary,#6b46c1);border-left-style:solid;border-left-width:6px;margin-left:0;margin-right:0;padding-left:2rem;}.css-1gtwvjp p{font-style:italic;}</style><blockquote class="css-1gtwvjp"><p class="css-1bkk5q4">Anything can be a stream, remember that, let it be the cornerstone of your reactive thinking.</p></blockquote><p class="css-1bkk5q4">This should get you warmed up for the real challenge later in the article. Before that, there&#x27;s something I want to mention about the RxJS library.</p><h4 id="rxjs-overview" style="position:relative" class="css-1slx2ud">RxJS Overview<a href="#rxjs-overview" aria-label="rxjs overview permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4><p class="css-1bkk5q4">I would highly recommend you later to go through the <a href="https://rxjs-dev.firebaseapp.com/guide/overviewhttps://rxjs-dev.firebaseapp.com/guide/overview" target="_blank" title="RxJS - Introduction" class="css-1od09yo">RxJS official docs overview</a>; it complements a few concepts I&#x27;ve covered in <a href="https://goodguydaniel.com/blog/reactive-programming-fundamentals" target="_blank" title="Fundamentals of Reactive Programming | goodguydaniel.com" class="css-1od09yo">the previous article</a> giving you a more mature view into the fundamentals. But for now, I want to focus on two things only: <strong class="css-0">creating streams and manipulating them</strong>. Looking at RxJS, you&#x27;ll see that you can identify two big groups of &quot;things&quot;:</p><ul class="css-15rlv7r"><li class="css-0"><strong class="css-0">Stream creators/producers</strong> are tools that will allow you to take anything and make it a stream. In the previous section, for example, we used <code class="css-0">fromEvent</code> to transform DOM click events into an Observable, <strong class="css-0">a stream that you can subscribe to</strong>.</li><li class="css-0"><strong class="css-0">Operators</strong> are instruments that will allow you to not only hook into the stream to perform operations with the data flowing through it but also combine them.</li></ul><h4 id="lets-build-something" style="position:relative" class="css-1slx2ud">Let&#x27;s build something!<a href="#lets-build-something" aria-label="lets build something permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4><p class="css-1bkk5q4">Now we&#x27;ve had our refresher, we can jump into building a small animated game with RxJS, something more complex.</p><p class="css-1bkk5q4">The game we&#x27;re building is called <strong class="css-0">&quot;Take the cat to the party&quot;</strong>, here&#x27;s how it goes down.</p><div class="Caption-module--container-gif--qmaJP"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p></p></div><ul class="css-15rlv7r"><li class="css-0">There&#x27;s a cat in a motorbike in your top left corner (draggable HTML element).</li><li class="css-0">There&#x27;s a decoy at the bottom left corner (draggable HTML element).</li><li class="css-0">There&#x27;s a party at the right bottom corner of the page (our drop zone).</li><li class="css-0"><strong class="css-0">We need to drop the cat at the party in less than 5 seconds to win</strong>. Nothing should happen if the decoy is the dragged element.</li><li class="css-0">While dragging, there&#x27;s an animation of the cat driving to the party and a counter appearing at the top right corner.</li><li class="css-0">Per each attempt, if the cat is dragged for longer than 5 seconds you lose.</li></ul><p class="css-1bkk5q4">We&#x27;re going to split this into <strong class="css-0">4 levels</strong>. Per each level, I&#x27;ll explain the goal we&#x27;re trying to achieve, show you how the implementation looks like, and what it does with plenty of detail. Feel free to try and code the levels yourself before checking the suggested solution. You can <a href="https://github.com/danielcaldas/take-the-cat-to-the-party" target="_blank" title="danielcaldas/take-the-cat-to-the-party: Learn reactive programming with RxJS the fun way" class="css-1od09yo">check out this repo</a> if you&#x27;re willing to give it a try. The file <a href="https://github.com/danielcaldas/take-the-cat-to-the-party/blob/master/cat-party-empty.html" target="_blank" title="danielcaldas/take-the-cat-to-the-party: Learn reactive programming with RxJS the fun way template file" class="css-1od09yo">cat-party-empty.html</a> contains the necessary boilerplate in a single HTML file. You can just open it in the browser and start coding.</p><p class="css-1bkk5q4">Before we start, let&#x27;s take a look at some boilerplate code already in place.</p><p class="css-1bkk5q4">There are a bunch of RxJS taken from the global <code class="css-0">window</code> at the top (I&#x27;m just injecting RxJS via <code class="css-0">&lt;script&gt;</code> at the top of the HTML file). Then we have our markup appended to the element&#x27;s <code class="css-0">app</code> <code class="css-0">innerHTML</code>. Just some boilerplate, don&#x27;t bother with the detail.</p><div class="gatsby-highlight" data-language="html"><pre class="prism-code language-html" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">head</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">script</span><span class="token tag" style="color:rgb(127, 219, 202)"> </span><span class="token tag attr-name" style="color:rgb(173, 219, 103);font-style:italic">src</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(127, 219, 202)">https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.5.5/rxjs.umd.js</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">script</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">script</span><span class="token tag" style="color:rgb(127, 219, 202)"> </span><span class="token tag attr-name" style="color:rgb(173, 219, 103);font-style:italic">src</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(127, 219, 202)">https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.5.5/rxjs.umd.js.map</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token script"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">script</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">head</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">body</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">div</span><span class="token tag" style="color:rgb(127, 219, 202)"> </span><span class="token tag attr-name" style="color:rgb(173, 219, 103);font-style:italic">id</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(127, 219, 202)">app</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">div</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(127, 219, 202)">script</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:rgb(127, 219, 202)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token script language-javascript">      map</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:rgb(99, 119, 119);font-style:italic">// ...</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(127, 219, 202)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript property-access">rxjs</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript property-access">operators</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:rgb(127, 219, 202)">const</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token script language-javascript">      fromEvent</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token script language-javascript">      </span><span class="token script language-javascript comment" style="color:rgb(99, 119, 119);font-style:italic">// ...</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(127, 219, 202)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript property-access">rxjs</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token script language-javascript">    </span><span class="token script language-javascript comment" style="color:rgb(99, 119, 119);font-style:italic">// ...</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token script language-javascript">    </span><span class="token script language-javascript dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript method function property-access" style="color:rgb(130, 170, 255)">getElementById</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token script language-javascript string" style="color:rgb(173, 219, 103)">&quot;app&quot;</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token script language-javascript property-access">innerHTML</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:rgb(127, 219, 202)">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token script language-javascript template-string embedded-code html"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token script language-javascript template-string embedded-code html">      &lt;h2&gt;Take the 🐈 to the 🎉&lt;/h2&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token script language-javascript template-string embedded-code html">      &lt;div id=&quot;loader&quot; style=&quot;display:none;position:absolute;right:0;z-index:-1;&quot;&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token script language-javascript template-string embedded-code html">        &lt;img src=&quot;https://media2.giphy.com/media/cfuL5gqFDreXxkWQ4o/giphy.webp?cid=ecf05e479338392950f1cf8bade564aaec071e3aae3b68b0&amp;rid=giphy.webp&quot; width=&quot;248&quot; height=&quot;248&quot; style=&quot;opacity:0.5;&quot;/&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">21</span><span class="token script language-javascript template-string embedded-code html">        &lt;span id=&quot;countdown&quot; style=&quot;top:0;right:0;position:absolute;z-index:9999;font-weight:bold;font-size:46px;&quot;&gt;-&lt;/span&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">22</span><span class="token script language-javascript template-string embedded-code html">      &lt;/div&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">23</span><span class="token script language-javascript template-string embedded-code html">      &lt;div id=&quot;drop-zone&quot; style=&quot;position:absolute;right:5px;bottom:5px;width:180px;height:180px;border:2px dashed black;z-index:2;&quot;&gt;&lt;/div&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">24</span><span class="token script language-javascript template-string embedded-code html">      &lt;img src=&quot;https://i.ebayimg.com/images/g/qHEAAOSw01pdVAaZ/s-l300.jpg&quot; width=&quot;150&quot; height=&quot;150&quot; style=&quot;position:absolute;right:20px;bottom:20px;&quot;/&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">25</span><span class="token script language-javascript template-string embedded-code html">      &lt;/div&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">26</span><span class="token script language-javascript template-string embedded-code html">      &lt;img id=&quot;cat&quot; draggable=&quot;true&quot; src=&quot;https://image.shutterstock.com/image-vector/vintage-scooter-cat-cool-stuff-260nw-429646657.jpg&quot; width=&quot;100&quot; height=&quot;100&quot; style=&quot;position:absolute;z-index:1;margin:18px 16px;text-align:center;cursor:grab;&quot;/&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">27</span><span class="token script language-javascript template-string embedded-code html">      &lt;div id=&quot;decoy&quot; draggable=&quot;true&quot; style=&quot;font-size:28px;position:absolute;left:20px;bottom:10px;text-align:center;cursor:grab;font-weight:bold;&quot;&gt;DECOY&lt;/div&gt;</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">28</span><span class="token script language-javascript template-string embedded-code html">    </span><span class="token script language-javascript template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token script language-javascript punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token script language-javascript"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">29</span><span class="token script language-javascript">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">script</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">30</span><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(127, 219, 202)">body</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></pre></div><p class="css-1bkk5q4">The next block contains a few of the DOM elements we&#x27;ll often be referring to.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> cat </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getElementById</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;cat&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> party </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getElementById</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;drop-zone&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> loading </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getElementById</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;loader&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdown </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">getElementById</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;countdown&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">Finally, <strong class="css-0">we introduce three streams that we&#x27;ll use quite often while going through the challenge. These are the most basic building blocks of our solutions.</strong></p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> dragstart$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fromEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;dragstart&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> dragend$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fromEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;dragend&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> drop$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">fromEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token dom variable" style="color:rgb(214, 222, 235)">document</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;drop&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><br/><br/><h4 id="level-1---combining-streams-of-dom-events" style="position:relative" class="css-1slx2ud">Level 1 - Combining streams of DOM events<a href="#level-1---combining-streams-of-dom-events" aria-label="level 1   combining streams of dom events permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4><ul class="css-15rlv7r"><li class="css-0">We should be able to take the cat to the party by dragging it.<ul class="css-15rlv7r"><li class="css-0">Place the cat inside the party together with other cats.</li><li class="css-0">We also want to hide the original cat element while dragging it for a better user experience.</li></ul></li></ul><p class="css-1bkk5q4">Let&#x27;s follow a bottom-up approach. We&#x27;ll start by building some specific streams that will allow us to assemble more complex behaviors as we move along.</p><p class="css-1bkk5q4">Let&#x27;s start by answering the following: how do we know that an HTML element has been dropped at the <code class="css-0">party</code>? We&#x27;ll need to detect any <code class="css-0">drop</code> event that occurs in the <code class="css-0">party</code> element.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> partyDrop$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> drop$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">target</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> party</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:45.416666666666664%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAsSAAALEgHS3X78AAABXUlEQVQoz11QyU7DMBDNV/IV/BCCK2eWM0IgkBCHRqGVQhFLmy6qaOPYjmM7XstLg8oyerLfeN6MZybZ/rXgjaoXMUbwFW2ENiBWGcXkb1kvSLqEEIqiKEmp2u3i7XZwfrBaTphwh0dnp1ePIW7z6/Tu+KKkohaacSka/ZQvWuOSvlLbts47VFMNXXw8aKVCiOlrUaw2iNLPav4ytT44wHnvg7X+++ferLVKKcT6riDBBYTgQwx4dDtDmziVkjh/kqWUCIzH4zQdjEYjEMyS5zn4cDjMsmw2m00mkzRN5/M5MqFP9tM3TaO1ruuaEEIpZYyD42KUkYpgI0IIeGVZcs7Bof/TdkUIo5RzxlmXtCvRuRWy1yXj325Xj1bW2QSK6XSKDtebUmrHha6bdg9ea+niy012f3JZYc/SQNAo8/S8NNYnWIzZmev2GP4BbxiJLNfv2dju9txDKhNi/AL1f/yc5mpJwAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="marbles diagram filter event target on drop event" title="marbles diagram filter event target on drop event" src="/static/22e71847cb29a78a6f2f54983ef0ae56/7d769/marbles-level-1-1.png" srcSet="/static/22e71847cb29a78a6f2f54983ef0ae56/5243c/marbles-level-1-1.png 240w,/static/22e71847cb29a78a6f2f54983ef0ae56/ab158/marbles-level-1-1.png 480w,/static/22e71847cb29a78a6f2f54983ef0ae56/7d769/marbles-level-1-1.png 960w,/static/22e71847cb29a78a6f2f54983ef0ae56/87339/marbles-level-1-1.png 1440w,/static/22e71847cb29a78a6f2f54983ef0ae56/bb1d9/marbles-level-1-1.png 1818w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4"><b class="css-0">e</b> stands for <b class="css-0">event</b> and it&#x27;s the value pushed to the stream at each drop event in the whole document!<!-- --> <b class="css-0">e1</b>, <b class="css-0">e2</b> and <b class="css-0">e3</b> have different <b class="css-0">event.target</b> (target DOM elements).</p></div><p class="css-1bkk5q4">Cool, we now have a stream that emits a <code class="css-0">drop</code> event every time something is dropped in the <code class="css-0">party</code>, we ensure that using the <a href="https://rxjs-dev.firebaseapp.com/api/operators/filter" target="_blank" title="RxJS - filter" class="css-1od09yo">filter</a> operator.</p><p class="css-1bkk5q4">I would like to pause and add further detail on this marble diagram. Notice that we read from top to bottom, meaning the last timeline is the only one that really matters, it&#x27;s the fine grained stream that gives us more useful values. In this case since we won&#x27;t subscribe to <code class="css-0">drop$</code> directly, think of it as an auxiliary conceptual timeline which is a step towards shaping the ideal stream to tackle our task: <code class="css-0">partyDrop$</code>.</p><p class="css-1bkk5q4">Another relevant detail on the marbles diagram: <code class="css-0">e1</code> and <code class="css-0">e2</code> marbles don&#x27;t make it to <code class="css-0">partyDrop$</code> (bottom stream). For those events,
<code class="css-0">event.target</code> it&#x27;s not <code class="css-0">party</code>, this means the user did not drop the HTML element in the <code class="css-0">party</code>.</p><p class="css-1bkk5q4"><strong class="css-0">At this point we can already notice the exceptional compositional capabilities of streams and how easy it is to plug &amp; play the smaller blocks (such as <code class="css-0">drop$</code>) to build higher level streams.</strong></p><p class="css-1bkk5q4">Next, let&#x27;s see how we can detect that the <code class="css-0">cat</code> is dropped at the <code class="css-0">party</code>.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catAtParty$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> partyDrop$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">withLatestFrom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">dragstart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token parameter">dropEvent</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> dragStartEvent</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> dragStartEvent</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">target</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">Alright, a few things are going on here. We&#x27;re familiar with <a href="https://rxjs-dev.firebaseapp.com/api/operators/withLatestFrom" target="_blank" title="RxJS - withLatestFrom" class="css-1od09yo">withLatestFrom</a>, but this time, it&#x27;s a bit more complex to perceive. We&#x27;re looking into a stream of <code class="css-0">dragstart</code> events <code class="css-0">dragstart$</code> and asking it for the last value emitted in that stream; this is the same as saying that we want the last draggable element in the page that emitted a <code class="css-0">dragstart</code> event! Next, we have <code class="css-0">filter</code> again. We&#x27;re going to use <code class="css-0">filter</code> to narrow down our stream to allow <code class="css-0">dragstart</code> events to pass through only if their target element is <code class="css-0">cat</code>! And that&#x27;s it! We have a stream that will emit an event every time we drop the cat at the party.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:60.416666666666664%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsSAAALEgHS3X78AAABhUlEQVQoz3VSy07DMBDs/1+58SXwBSAE4gIqFSBKkzRpHD/it504ZtIIqa3U0dpeW5rd9eyucs5Kqe12+3OEdc64aG3Qs3kbMmu/1w83UnvrIxOm7SQoU56xwkopxRiHYQghwJ+mKU15Wo6cY1C0eR/T8SGlcUz5HzPZe4+cu91uv9/HELlyt/ePtdC/z+uf1+/e083vndLe+UFI23F9RkY8fwTyH/34WR5CHDSXiqthDEyUKAg5vUdx8Yx8CoRA/SiuqspyXjOKokZpfd+P42iMuUp2ziE4dtJ1TdMQQiilhLRNU2uthxit0VfJ0K2jjDLOhYT1UtVN+/a+pkxw0deIRsWZ2qeAqBAWMg9pNjhK24/Nl494zj6M6NllZrRhcfBhznnXEc5YRwh8lC0EZ5RyjuwseHe1bHyYMVYUBT5cVRWYcHCt6xqBDof2UjBoaC1Gyy0Ng6pSymUHwKmq/XJlsxb9GRmpMCEIj1RoozZBGQ+Teh7VpqWPTy9caOPQcENPhuQPc5KwlHoMZrwAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="marbles diagram filter event target on drop event" title="marbles diagram filter event target on drop event" src="/static/b829a4ae7bbb6880e656eae4fae4e2a6/7d769/marbles-level-1-2.png" srcSet="/static/b829a4ae7bbb6880e656eae4fae4e2a6/5243c/marbles-level-1-2.png 240w,/static/b829a4ae7bbb6880e656eae4fae4e2a6/ab158/marbles-level-1-2.png 480w,/static/b829a4ae7bbb6880e656eae4fae4e2a6/7d769/marbles-level-1-2.png 960w,/static/b829a4ae7bbb6880e656eae4fae4e2a6/87339/marbles-level-1-2.png 1440w,/static/b829a4ae7bbb6880e656eae4fae4e2a6/62f43/marbles-level-1-2.png 1678w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p></p></div><p class="css-1bkk5q4">In the above diagram, <code class="css-0">e1</code>, <code class="css-0">e2</code> and <code class="css-0">e3</code> are <code class="css-0">dragstart</code> events (<code class="css-0">dragstart$</code> stream) that might come from anywhere in the page. <code class="css-0">de</code> represents a <code class="css-0">drop</code> event at the <code class="css-0">party</code>. Notice how <code class="css-0">withLatestFrom</code> operates by bringing together the last element on <code class="css-0">dragstart$</code> which is <code class="css-0">e3</code> and with the <code class="css-0">party</code> element which is published to the <code class="css-0">dragend$</code> stream. Now because <code class="css-0">e3</code> event target is actually the <code class="css-0">cat</code> you&#x27;ll get <code class="css-0">e3</code> pushed to our final stream <code class="css-0">catAtParty$</code>!</p><p class="css-1bkk5q4">But we&#x27;re not finished just yet; we need to leverage the work we&#x27;ve constructed so far to actually render the <code class="css-0">cat</code> in the <code class="css-0">party</code>. For that, we just need to subscribe to our <code class="css-0">catAtParty$</code> stream and do some DOM manipulations.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">catAtParty$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token parameter">partyDropEvent</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> dragStartEvent</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// some console.logs to check what we really get subscribing to catAtParty$</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// console.log({ partyDropEvent, dragStartEvent });</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// console.log({ partyDropEvent: event.type, dragStartEvent: event.type });</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">remove</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  party</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">appendChild</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:72.08333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsSAAALEgHS3X78AAAA6ElEQVQoz+2SuwrCMBSG+6YOvoSLk6uDg4OL4uriI4g4iItTK4oo2pLYxmpsG9pgTVJPLYi3Yt39yYXkPx/nkBwNIWRaFnUJxni/s5S4JM/inINFCLGJi7DtOM4RRFNpQRB4nsejkDEWMj9R8gWWUkIARDPYgDidmO8FlMK9lnyTelOSjjRHITjP+sOfSPiS32AApBAw719VFJZS8SiKY6HEedLvzHU9r3gtK+zRg+Mljg/bhU827Up5NhnfYFm0bGhVG62X01GzVsWWmZsZGt0wDGj9zM5WvDKH3cagXuq1apS42dO9w1fpoTJXlC1c/QAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="result of subscribing to cat at party stream" title="result of subscribing to cat at party stream" src="/static/3bc808f99efcac9eb2b067b4ee1dd9ec/7d769/game-level-1-2.png" srcSet="/static/3bc808f99efcac9eb2b067b4ee1dd9ec/5243c/game-level-1-2.png 240w,/static/3bc808f99efcac9eb2b067b4ee1dd9ec/ab158/game-level-1-2.png 480w,/static/3bc808f99efcac9eb2b067b4ee1dd9ec/7d769/game-level-1-2.png 960w,/static/3bc808f99efcac9eb2b067b4ee1dd9ec/87339/game-level-1-2.png 1440w,/static/3bc808f99efcac9eb2b067b4ee1dd9ec/88b03/game-level-1-2.png 1920w,/static/3bc808f99efcac9eb2b067b4ee1dd9ec/0aaa4/game-level-1-2.png 2122w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4">The <b class="css-0">console.log</b> reveals the <b class="css-0">drop</b> and <b class="css-0">dragstart</b> events as payload for our subscription. We also log the <b class="css-0">event.type</b> of each individual event.</p></div><p class="css-1bkk5q4">If you&#x27;re following this point, you&#x27;ll notice that although we can drag the cat perfectly, we still see the original <code class="css-0">cat</code> element while carrying it.</p><div class="Caption-module--container-gif--qmaJP"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p>We see the original cat element while dragging it.</p></div><br/><div class="Caption-module--container-gif--qmaJP"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4">Setting the cat&#x27;s element opacity to <b class="css-0">0</b> yields a more natural user experience.</p></div><p class="css-1bkk5q4">To achieve the same behavior we have in the above GIF, we want to toggle the <code class="css-0">cat</code> element&#x27;s opacity while dragging. Yes, another side effect, we can actually simply create another subscription to take care of this.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragStart$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> dragstart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">target</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragEnd$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> dragend$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">target</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">opacity</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">catDragEnd$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">opacity</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">And done with Level 1!</p><p class="css-1bkk5q4">I want to leave a challenge for the reader. Looking at how we&#x27;re setting the opacity value of the <code class="css-0">cat</code> element, could we somehow handle everything in one single subscription instead of two? I would suggest you to read the whole article and come back to this one later, you should be then able to nail it then.</p><div class="Accordion-module--accordion--38sgz"><details><summary>Hint</summary>Check the operator <b class="css-0">merge</b>.</details></div><br/><div class="Accordion-module--accordion--38sgz"><details><summary>Solution</summary><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragStart$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> dragstart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">target</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragEnd$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> dragend$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">target</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> opacity$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">merge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">mapTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> catDragEnd$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">mapTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">opacity$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  cat</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">opacity</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div></details></div><br/><h4 id="level-2---hacking-race-conditions-with-artificial-delays" style="position:relative" class="css-1slx2ud">Level 2 - Hacking race conditions with artificial delays<a href="#level-2---hacking-race-conditions-with-artificial-delays" aria-label="level 2   hacking race conditions with artificial delays permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4><ul class="css-15rlv7r"><li class="css-0">We should announce the cats&#x27; arrival with a <code class="css-0">window.alert</code> message.<ul class="css-15rlv7r"><li class="css-0">Before triggering the <code class="css-0">window.alert</code> we&#x27;ll want to make sure the <code class="css-0">cat</code> is actually rendered at the <code class="css-0">party</code>.</li></ul></li></ul><p class="css-1bkk5q4">So we already have a stream that emits an event each time we drag the cat to the party, it&#x27;s called <code class="css-0">catAtParty$</code>. Our work here is mostly done. We just need to subscribe to it.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">catAtParty$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">alert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Cat is at the party! You win!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">reload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><br/><br/><div class="Caption-module--container-gif--qmaJP"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4"><b class="css-0">window.alert</b> is triggered when we drop the cat at the <b class="css-0">party</b>, but the <b class="css-0">cat</b> is not rendered!</p></div><p class="css-1bkk5q4">Hmm.. strange, we did everything right but the <code class="css-0">window.alert</code> triggers before we get to actually render the <code class="css-0">cat</code> at the <code class="css-0">party</code>, what a bummer.</p><p class="css-1bkk5q4">It seems that the DOM changes don&#x27;t kick in before we trigger the alert; that&#x27;s because the rendering is asynchronous, and the page only gets updated later on after we&#x27;re done with executing this function and dismissing the alert. I don&#x27;t want to spend much time fixing this since I don&#x27;t have any mechanism to tell me whether the DOM node has been rendered successfully, I&#x27;m going to code a hack and trigger the alert inside a <code class="css-0">setTimeout</code> that should buy us some time to correctly render the <code class="css-0">cat</code> element.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">catAtParty$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">setTimeout</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">    </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">alert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Cat is at the party! You win!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">    </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">reload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><br/><br/><div class="Caption-module--container-gif--qmaJP"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4">Great! The <b class="css-0">window.alert</b> is triggered after the <b class="css-0">cat</b> element is rendered at the <b class="css-0">party</b>!</p></div><p class="css-1bkk5q4">It works. We can achieve a similar <strong class="css-0">hack</strong> with RxJS without having a solution based on callbacks keeping our subscription handler clean (<strong class="css-0">but still a hack!</strong>).</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">catAtParty$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">delay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">alert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Cat is at the party! You win!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">reload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">See that <a href="https://rxjs-dev.firebaseapp.com/api/operators/delay" target="_blank" title="RxJS - withLatestFrom" class="css-1od09yo">delay</a> there? That&#x27;s another operator. It <strong class="css-0">allows you to hold the value in the stream for a determined amount of time before pushing it to the subscribers</strong>. So what&#x27;s happening here is that instead of the Observer (subscription) being aware that we have to code a hack to trigger the alert after the cat enters the party, we shift that responsibility to the Observable, the stream is now the <em class="css-0">hacky</em> code that is delaying the whole thing. This is super powerful, the way you can shift responsibilities and broadcast your changes to all the subscribers. Yes, all the subscribers will receive a delayed update! <strong class="css-0">This can be simultaneously a gift and a wrecking footgun!</strong></p><h4 id="level-3---merging-streams-into-one-stream" style="position:relative" class="css-1slx2ud">Level 3 - Merging streams into one stream<a href="#level-3---merging-streams-into-one-stream" aria-label="level 3   merging streams into one stream permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4><ul class="css-15rlv7r"><li class="css-0">We want to display a GIF while the cat is moving.</li></ul><p class="css-1bkk5q4">In our markup, there&#x27;s a GIF positioned at the top right corner. We want to show it while dragging the cat and hide it again once we drop the cat.</p><p class="css-1bkk5q4">We already have two streams: <code class="css-0">catDragStart$</code> and <code class="css-0">catDragEnd$</code> . We need to combine them to form a new stream. Let&#x27;s try and draw a small diagram of what that stream should look like.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:19.166666666666664%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAIAAAABPYjBAAAACXBIWXMAAAsSAAALEgHS3X78AAAAsElEQVQI112OTQvCMAyG9/9/jEcvHrwNBG8eBEEGOuc+1K5r0zVNmxo9KBoeQkjywlNorcdxlA7g0MPtXBJRjBxj+pL4UW+cVcx5nkOgmHOWuei6rm3bYej1ZMBO9WHlffAheqQPGGJzXGvVS8pYj0j5XYUkm6apqkoplVLWLizKnXUe//IkLrzc7qvrnROPk7PgC+ccABhjEFG2GMKpu4vYj/YLkutlUAZmZpYHiukJ3a3lAk3cXHYAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="streams of events for dragging and dropping the cat respectively" title="streams of events for dragging and dropping the cat respectively" src="/static/ef1e1d186f64f6e2c047326f324c966f/7d769/marbles-level-3-1.png" srcSet="/static/ef1e1d186f64f6e2c047326f324c966f/5243c/marbles-level-3-1.png 240w,/static/ef1e1d186f64f6e2c047326f324c966f/ab158/marbles-level-3-1.png 480w,/static/ef1e1d186f64f6e2c047326f324c966f/7d769/marbles-level-3-1.png 960w,/static/ef1e1d186f64f6e2c047326f324c966f/87339/marbles-level-3-1.png 1440w,/static/ef1e1d186f64f6e2c047326f324c966f/5ddef/marbles-level-3-1.png 1786w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4">In the image, <b class="css-0">ds</b> symbolizes a <b class="css-0">dragstart</b> event, and <b class="css-0">de</b> represents a <b class="css-0">dragend</b> event.</p></div><p class="css-1bkk5q4">Our GIF is wrapped in an HTML element whose <code class="css-0">display</code> attribute is set to <code class="css-0">&quot;none&quot;</code> by default. We&#x27;ll want to set it to <code class="css-0">&quot;&quot;</code> (empty string) to make it visible and back to <code class="css-0">&quot;none&quot;</code> once it&#x27;s time to hide it again. Our side effect should look something like this:</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">// shouldHideGIF would be true in case we need to hide the GIF</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> v </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> shouldHideGIF </span><span class="token operator" style="color:rgb(127, 219, 202)">?</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;none&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">loading</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;display&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">Let&#x27;s try to build a stream to feed to this function a value for <code class="css-0">display</code> that reflects whether the cat is being dragged or not. Our stream should remove the necessity of the imperative logic dictated by the ternary operator, <strong class="css-0">we&#x27;ll create values that react to changes to replace the imperative code</strong>.</p><p class="css-1bkk5q4">First, let&#x27;s look back at our streams <code class="css-0">catDragStart$</code> and <code class="css-0">catDragEnd$</code>. When <code class="css-0">catDragStart$</code> emits a value, we want to set the <code class="css-0">display</code> to <code class="css-0">&quot;&quot;</code>. So this means we need to somehow transform our stream of events into a stream of empty strings. Each time a string is emitted, we shall pass that value onto the function that will set the <code class="css-0">display</code> property on the <code class="css-0">loading</code> element.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:26.666666666666668%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0klEQVQY002P22rEIBCG8/7PVHrdm8Ky7c22KQ3dHEhMPEVHR6PuYFrox4Dj6Ie/TakYYxhjy7Js2wr+UNsXGy4+FOcDuLOQtpJ9rOMbxrIbv1vfnDIACCE450rJELPavpf+eqQSQkwp51wSLYXklg3v1HmPzuOv/B9EPKoRI5mJEnVdN02TlDJXzjmAbfIf6XyiFOecpABKW2uopBArY5RKK6W0piOoc611M8/zT2UcxzvR9+jgtR2eLp/Bo9rpordAP3QRw8vt/nxtqVm55tI+APkmHRwFomL2AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="stream mapping dragstart events to an empty string" title="stream mapping dragstart events to an empty string" src="/static/27ce69e27dbd81a26856a552cb41a0d0/7d769/marbles-level-3-2.png" srcSet="/static/27ce69e27dbd81a26856a552cb41a0d0/5243c/marbles-level-3-2.png 240w,/static/27ce69e27dbd81a26856a552cb41a0d0/ab158/marbles-level-3-2.png 480w,/static/27ce69e27dbd81a26856a552cb41a0d0/7d769/marbles-level-3-2.png 960w,/static/27ce69e27dbd81a26856a552cb41a0d0/87339/marbles-level-3-2.png 1440w,/static/27ce69e27dbd81a26856a552cb41a0d0/ba1ef/marbles-level-3-2.png 1852w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p>Mapping each event to an empty string.</p></div><p class="css-1bkk5q4">After you apply an operator, you transform your stream into a more refined one, ideally better suited to the task you&#x27;re trying to tackle! You&#x27;re making every pushed value to the topmost timeline flow through a function provided in the <code class="css-0">map</code> operator. That function will map each value into the bottom timeline, your <em class="css-0">&quot;final&quot;</em> stream. If you subscribe to it now, you will receive empty strings instead of DOM events!</p><p class="css-1bkk5q4">The same thing should happen to <code class="css-0">catDragEnd$</code>.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:27.083333333333332%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAA2ElEQVQY002Py07EMAxF+///wpr1sBsWLAYhQEJk6HPa1GnJo86zwZkBiSMnur6ynbjKVxCxbduvwtn5PNaPcHl3IW/oEH0J66zf+8/DKjryV2msC9WtOca4bZvW2mid9iymt2/RpFT8PWdyEiU5Q3/SkpOkWTGm3+b/OOeodL+ilDoz1vcdAAzDcPPpDr5QFfUHvUOpMeYyzRyElEqIZRwnzucZBJ1h4rCs5INY0NqKZtd1zRijdZumIU1/vT8+H18+YojKIK1NoY0NPtw9PL2yjsQsJFr/A6YoHGtLjxK8AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="stream mapping dragend events to none" title="stream mapping dragend events to none" src="/static/59329a7e9626f9aab145c060dae6a1ef/7d769/marbles-level-3-3.png" srcSet="/static/59329a7e9626f9aab145c060dae6a1ef/5243c/marbles-level-3-3.png 240w,/static/59329a7e9626f9aab145c060dae6a1ef/ab158/marbles-level-3-3.png 480w,/static/59329a7e9626f9aab145c060dae6a1ef/7d769/marbles-level-3-3.png 960w,/static/59329a7e9626f9aab145c060dae6a1ef/87339/marbles-level-3-3.png 1440w,/static/59329a7e9626f9aab145c060dae6a1ef/5f3af/marbles-level-3-3.png 1816w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p>Mapping each event to &#x27;none&#x27;.</p></div><p class="css-1bkk5q4">Now we have two streams, and we could just subscribe to each one of them and set the value of the <code class="css-0">&quot;display&quot;</code> property for the <code class="css-0">loading</code> element!</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragStartDisplay$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragEndDisplay$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragEnd$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;none&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">catDragStartDisplay$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> loading</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;display&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">catDragEndDisplay$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> loading</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;display&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">Although this works, we could further refine our streams and <strong class="css-0">merge</strong> them into a single one.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:32.08333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+klEQVQY01WOy27DIBBF/f/fE6l/ULldpV0ki0St38TF5o15GjrE3fQIoUHMzD0Vxngcx2ma5nlGCD0QksrQ6U0JHPdsnYfjQpb0m6BziNn5YF0QykBRGWMIIcuyUEpJYbXWi/W2Kb7wDTpCiDFmLX4kaZhyXG37njYDH3tlrYXA/gnkQy2kdiEp40/1JyTAMKwzLuac68vXx73PKVOunY9V/k9K6ciSUjBWXNZ1BSnO2SEGftaaWAjVMXBw1NsTsOgKbdcWhmFo267vh6ZpGGNaa+fc3zDc8AZzaBfSPO4vC+5O71cmdHH2mcwXgerX63i+tTFEvHJj/S/Cj1JvI8Z6BwAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="two streams merged into a single" title="two streams merged into a single one" src="/static/de23286f8940392f2eda24cee8d564c7/7d769/marbles-level-3-4.png" srcSet="/static/de23286f8940392f2eda24cee8d564c7/5243c/marbles-level-3-4.png 240w,/static/de23286f8940392f2eda24cee8d564c7/ab158/marbles-level-3-4.png 480w,/static/de23286f8940392f2eda24cee8d564c7/7d769/marbles-level-3-4.png 960w,/static/de23286f8940392f2eda24cee8d564c7/87339/marbles-level-3-4.png 1440w,/static/de23286f8940392f2eda24cee8d564c7/625db/marbles-level-3-4.png 1854w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4"><b class="css-0">A single stream becomes the source of truth</b> for the <i class="css-0">display</i> property value of the <b class="css-0">loading</b> <!-- -->element throughout time.</p></div><p class="css-1bkk5q4">Awesome! The <a href="https://rxjs-dev.firebaseapp.com/api/operators/merge" target="_blank" title="RxJS - merge" class="css-1od09yo">merge</a> operator gives us the power to take to streams and merge them into one so that the values of the <code class="css-0">&quot;display&quot;</code> flow through a single stream (a single source of truth). Here&#x27;s how the code looks like.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragStartDisplay$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragEndDisplay$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragEnd$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;none&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> display$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">merge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">catDragStartDisplay$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> catDragEndDisplay$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">display$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> loading</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;display&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">One subscription to handle the toggling of showing/hiding the GIF.</p><style data-emotion-css="8as35j">.css-8as35j{font-family:inherit;font-weight:700;line-height:1.25;margin:0;margin-bottom:0.5rem;font-size:1rem;color:var(--theme-ui-colors-heading,#000);}</style><h6 id="bonus-for-level-3" style="position:relative" class="css-8as35j">Bonus for Level 3<a href="#bonus-for-level-3" aria-label="bonus for level 3 permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h6><p class="css-1bkk5q4">I feel overwhelmed by the tremendous amount of operators offered by RxJS, its API is considerably large. We could further simplify the above implementation with the operator <a href="https://rxjs-dev.firebaseapp.com/api/operators/mapTo" target="_blank" title="RxJS - mapTo" class="css-1od09yo">mapTo</a>.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragStartDisplay$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">mapTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> catDragEndDisplay$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragEnd$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">mapTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;none&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> display$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">merge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">catDragStartDisplay$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> catDragEndDisplay$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">display$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> loading</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;display&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">You get the same result as applying <code class="css-0">map</code> but without needing to provide a function, because we&#x27;re really not doing anything else rather than returning a hardcoded value on that inline function.</p><h6 id="note-about-the-coding-style" style="position:relative" class="css-8as35j">Note about the coding style<a href="#note-about-the-coding-style" aria-label="note about the coding style permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h6><p class="css-1bkk5q4">You&#x27;ve might have noticed that I&#x27;m creating a new variable per each stream, this allows me to better explain the building blocks of each solution and map them to the diagrams. <strong class="css-0">Although this helps keeping the code readable, this is not mandatory, it can be overkill per times!</strong>. Streams can be inlined. Let&#x27;s look again to a small refactor of the above solution to understand what I&#x27;m referring to.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> display$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">merge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">mapTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> catDragEnd$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">mapTo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;none&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">display$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> loading</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">style</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">setProperty</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;display&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">We could drop <code class="css-0">catDragStartDisplay$</code> and <code class="css-0">catDragEndDisplay$</code> by inlining them in the <code class="css-0">merge</code> operator.</p><h4 id="level-4---flatten-observables-timers-and-cancellation" style="position:relative" class="css-1slx2ud">Level 4 - Flatten observables, timers and cancellation<a href="#level-4---flatten-observables-timers-and-cancellation" aria-label="level 4   flatten observables timers and cancellation permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4><ul class="css-15rlv7r"><li class="css-0">The cat needs to make it to the party in less than 5 seconds! He only has 5 seconds of gas in his bike.</li></ul><p class="css-1bkk5q4">We need to code a new path in our game, the one where the user loses the cat isn&#x27;t dragged to the party within 5 seconds. This looks like a countdown, with a few actions tied to it:</p><ol class="css-15rlv7r"><li class="css-0">The countdown must be <strong class="css-0">interrupted</strong> if the player manages to win within 5 seconds.</li><li class="css-0">In case the countdown ends, and the cat was not dropped anywhere, we need to display a &quot;<em class="css-0">game over</em>&quot; message.</li></ol><p class="css-1bkk5q4">As in the previous levels, let&#x27;s build this incrementally. First, let&#x27;s build a countdown. To emphasize how RxJS shines here, let&#x27;s first see how we would make a countdown with native JavaScript APIs.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">countdown</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">seconds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> secondsLeft </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> seconds</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token keyword" style="color:rgb(127, 219, 202)">let</span><span class="token plain"> intervalId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  intervalId </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">setInterval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">    </span><span class="token keyword" style="color:rgb(127, 219, 202)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">secondsLeft </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">      </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;time&#x27;s up!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">      </span><span class="token function" style="color:rgb(130, 170, 255)">clearInterval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">intervalId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(127, 219, 202)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">      </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">secondsLeft</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain">      secondsLeft</span><span class="token operator" style="color:rgb(127, 219, 202)">--</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">countdown</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">That&#x27;s a rough implementation of a countdown. We need to keep track of the timer identifier in a variable to ensure we clean up after running the <code class="css-0">setInterval</code> provided callback the expected amount of times.</p><p class="css-1bkk5q4">Now here&#x27;s how you can do the same with RxJS.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdown$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">takeWhile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> t </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">countdown$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">next</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">secondsLeft</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">secondsLeft</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">  </span><span class="token function-variable function" style="color:rgb(130, 170, 255)">complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token console class-name" style="color:rgb(255, 203, 139)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;time&#x27;s up!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">Let&#x27;s examine the above code 🤯. This time we&#x27;re not creating a stream from an event or anything like that. Instead, we use <a href="https://rxjs-dev.firebaseapp.com/api/index/function/timer" target="_blank" title="RxJS - mapTo" class="css-1od09yo">timer</a> from RxJS to generate a timer stream that emits a new numeric value every second.</p><p class="css-1bkk5q4">Now a timer emits values in ascending order (0, 1, 3, etc.). We&#x27;ll want to reverse that to display an actual countdown. To reverse the numerical value on the stream, we simply use <code class="css-0">map</code>. We should only give the user 5 seconds to drag the <code class="css-0">cat</code> to the <code class="css-0">party</code>. This translates to stop emitting values when we hit the mark of the <code class="css-0">0</code> seconds, this is controlled by the <a href="https://rxjs-dev.firebaseapp.com/api/operators/takeWhile" target="_blank" title="RxJS - takeWhile" class="css-1od09yo">takeWhile</a> operator. A few evident advantages compared with the classic implementation:</p><ol class="css-15rlv7r"><li class="css-0"><strong class="css-0">No global variables</strong> <code class="css-0">secondsLeft</code> and <code class="css-0">intervalId</code>.</li><li class="css-0"><strong class="css-0">Less error-prone code</strong> by relying on <code class="css-0">takeWhile</code> and other built-in operators to be the rail guards of our business logic.</li><li class="css-0">Once the stream emits the 6th value, <strong class="css-0">it will complete automatically</strong> and stop emitting values! <strong class="css-0">We don&#x27;t need to worry about cleanup logic</strong> - with <code class="css-0">setInterval</code> we need to worry about cleaning the interval with <code class="css-0">clearInterval</code> so that it does not run indefinitely!</li></ol><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:40%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsSAAALEgHS3X78AAABTklEQVQY01WRy07DMBBF+/8/w5oNsOiGFQKBqpaqVUNiJ47tGT/jvBymLRUwskbXj2ufGa+stVJKyoCmi0Ye7wuB68/Slq04COV36CopDRi/baNmX6fHu35afEg0VuM4DsMwTROJLnUWaxdiizY6761HKxEVgAkxaueDd1iXw/lkn/p+tdxinueUEgm6KOc8TTNp61zdNCk4eiDnn63xEqnrfs1LzgrsphCt1IwJIQ9c7tmuklX9vCsKxuvDmten992Tc1FpROP/mJclpuHUGh+i1tb6BgNHjgHchiltjKnf0LbH8mUc50jYafiH3ff9VRAbCWJjDa84S97G4PIVL+eZSpqmlC7Y5AkhUMHUcCYBAJVCQKGA84I3rN6XvGnPS1KBc9RJTznGeDbTPwkhaG5Dej0JDaZisoV9A1u2qXTZPHwcSwH0Nwr8fAtC+AY64sWPv4apDAAAAABJRU5ErkJggg==&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="diagram depicting the countdown stream" title="diagram depicting the countdown stream" src="/static/6a11e14eb526ca0715544961a0c92acd/7d769/marbles-level-4-1.png" srcSet="/static/6a11e14eb526ca0715544961a0c92acd/5243c/marbles-level-4-1.png 240w,/static/6a11e14eb526ca0715544961a0c92acd/ab158/marbles-level-4-1.png 480w,/static/6a11e14eb526ca0715544961a0c92acd/7d769/marbles-level-4-1.png 960w,/static/6a11e14eb526ca0715544961a0c92acd/87339/marbles-level-4-1.png 1440w,/static/6a11e14eb526ca0715544961a0c92acd/6e284/marbles-level-4-1.png 1784w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p></p></div><p class="css-1bkk5q4">In the above image, the bottom timeline represents the stream; notice the pipe (<strong class="css-0">|</strong>) at the end of the timeline indicates that the stream completes after emitting the value <strong class="css-0">1</strong>.</p><p class="css-1bkk5q4">A crucial aspect to notice is that you&#x27;ll trigger a new timer as soon as you subscribe. This is a <a href="https://goodguydaniel.com/blog/reactive-programming-fundamentals/#hot-observable-vs-cold-observable" target="_blank" title="Fundamentals of Reactive Programming, Cold Observable" class="css-1od09yo">Cold Observable</a>. Our <code class="css-0">countdown$</code> will start emitting values right away upon subscription, so we can&#x27;t just <code class="css-0">.subscribe()</code> We&#x27;ll have to subscribe to the countdown when the user starts dragging the <code class="css-0">cat</code> element.</p><p class="css-1bkk5q4">Now remember we had a stream <code class="css-0">catDragStart$</code>; we&#x27;ll use that to trigger our countdown. <strong class="css-0">But how can we trigger a subscription to a stream from within another stream?</strong> In my opinion, this is a hard concept to comprehend.</p><p class="css-1bkk5q4">Presenting the <a href="https://rxjs-dev.firebaseapp.com/api/operators/switchMap" target="_blank" title="RxJS - switchMap" class="css-1od09yo">switchMap</a> operator. <code class="css-0">switchMap</code> allows you to trigger a subscription from within a stream to a second stream. Not clear yet? Think of it this way <code class="css-0">switchMap</code> <strong class="css-0">allows you to switch to a new observable</strong>. Ok, let&#x27;s look at our countdown implementation, now that we have this information.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdown$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">takeWhile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> t </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdownRunning$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">switchMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> countdown$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain">countdownRunning$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">secondsLeft</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain">  countdown</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">innerText</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">secondsLeft</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4"><strong class="css-0">Note</strong>: You might have noticed that I&#x27;m using <code class="css-0">t =&gt; t &gt;= 0</code> &quot;<em class="css-0">greater or equal to</em>&quot; in our predicate. This is just for convenience, so that we get <code class="css-0">0</code> pushed onto the stream to easily rendered it, finishing the countdown at <code class="css-0">0</code>.</p><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:26.666666666666668%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAzElEQVQY01WNS2/EIAyE+f8/p9dKe+0e+7j0sZulEgQwyQKOkiUQQq3kkn7yyBqNxma11hCCUsoYPT5Kr94VP6elhmHyOFG6rnVn3agHGCnnHGOcY1xKRSecveVSU84L+f9QuRxgx2yeYynLdn/FATm/EUIIsNBK2TRX5/26PaPmOI6MFpmU0u6hu0Pv0PkOOm1apSWAJTR0kqRbZ03AwftAwxDR7ADM0/Ty+Xv6uPQXyd844LfQrwZQCtlA+LKTOj//nJ4epfb34HD8A6gbG6L733fiAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="diagram to demonstrate the switchMap operator" title="diagram to demonstrate the switchMap operator" src="/static/25bdcfae590bb19643eebd9c43ac42e0/7d769/marbles-level-4-2.png" srcSet="/static/25bdcfae590bb19643eebd9c43ac42e0/5243c/marbles-level-4-2.png 240w,/static/25bdcfae590bb19643eebd9c43ac42e0/ab158/marbles-level-4-2.png 480w,/static/25bdcfae590bb19643eebd9c43ac42e0/7d769/marbles-level-4-2.png 960w,/static/25bdcfae590bb19643eebd9c43ac42e0/87339/marbles-level-4-2.png 1440w,/static/25bdcfae590bb19643eebd9c43ac42e0/dc660/marbles-level-4-2.png 1812w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4">We&#x27;re switching from one stream to another and subscribing to it immediately.</p></div><p class="css-1bkk5q4">Notice the return value of <code class="css-0">switchMap</code> is <code class="css-0">countdown$</code>, this means that when a <code class="css-0">dragstart</code> event is emitted in <code class="css-0">catDragStart$</code> the following things will happen:</p><ol class="css-15rlv7r"><li class="css-0">Since we subscribed, the DOM event will flow through the pipe and hit our <code class="css-0">switchMap</code> operator.</li><li class="css-0">We&#x27;ll automatically subscribe to <code class="css-0">countdown$</code> and start emitting its values leaving the <code class="css-0">dragstart</code> event behind (because we don&#x27;t really need it for this task).</li><li class="css-0">In our subscription handler, we simply do a DOM mutation to the element that displays our countdown value so that the user gets the time left displayed on the screen.</li></ol><p class="css-1bkk5q4">Once more, as soon as a <code class="css-0">ds</code> (<code class="css-0">dragstart</code> event in the diagram) is pushed to our <code class="css-0">catDragStart$</code> stream, <code class="css-0">switchMap</code> will kick in and subscribe to our <code class="css-0">countdown$</code> stream, <em class="css-0">&quot;passing the ball&quot;</em> (moving the flow of control) to the <code class="css-0">countdown$</code>. We&#x27;ll start to push to our subscribers the seconds left in the countdown like if we had subscribed to the <code class="css-0">countdown$</code> in the first place, but in this case <strong class="css-0">we programmatically triggered the subscription</strong>.</p><p class="css-1bkk5q4">Although we&#x27;re going more deep into <em class="css-0">flattening</em> Observables in this level, we&#x27;ve already seen this before in this article. If you&#x27;re thinking about <code class="css-0">withLatestFrom</code> from <strong class="css-0">Level 1</strong>, you&#x27;re right! That operator also triggers a inner subscription.</p><p class="css-1bkk5q4">We can now leverage <code class="css-0">countdownRunning$</code> to display an alert.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token plain">countdownRunning$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">secondsLeft</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> secondsLeft </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">alert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Cat didn&#x27;t make it! You lose!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">reload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">We have a filter to check for the second <code class="css-0">0</code>; this way, we&#x27;re basically ensuring that we just emit a value when the countdown runs out. Similarly to <strong class="css-0">Level 2</strong>, we have a <code class="css-0">delay</code> with random time to safeguard our countdown value gets rendered with <code class="css-0">0</code> on the screen before we trigger the alert.</p><p class="css-1bkk5q4">Only one thing left! If you&#x27;re following up until this point, you&#x27;re probably wondering why the counter is not reset once you stop dragging the cat. See the following GIF to understand what I&#x27;m referring to.</p><div class="Caption-module--container-gif--qmaJP"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p>Hmm.. Strange the counter does not reset once we drop the cat! It should, since the 5 seconds didn&#x27;t ran out while we were dragging the cat.</p></div><p class="css-1bkk5q4">Let&#x27;s look at our <code class="css-0">countdown$</code> implementation once more.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdown$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">takeWhile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> t </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdownRunning$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">switchMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> countdown$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">Now, it&#x27;s pretty clear that we&#x27;re not doing anything to &quot;stop&quot; the counter. Once we subscribe to <code class="css-0">countdown$</code> with the <code class="css-0">switchMap</code> operator, there&#x27;s no stopping it, it will go on until it reaches the end, and when this happens, we&#x27;ll display the alert to the user. Ideally, we would stop the counter upon any of the two following events:</p><ol class="css-15rlv7r"><li class="css-0"><strong class="css-0">When the cat arrives at the party</strong>. Also partially done, we have a stream <code class="css-0">catAtParty$</code>, once a value is pushed into this stream, you know the <code class="css-0">cat</code> was dropped at the <code class="css-0">party</code>.</li><li class="css-0"><strong class="css-0">We stop dragging the cat</strong>. We already have a stream <code class="css-0">catDragEnd$</code>, each emitted value means we just dropped the <code class="css-0">cat</code> element. You might be thinking the first point would be enough, but remember the cat can be dropped literally anywhere on the screen. We have no guarantees that it will get dropped at the party.</li></ol><p class="css-1bkk5q4">Meet <a href="https://rxjs-dev.firebaseapp.com/api/operators/takeUntil" target="_blank" title="RxJS - takeUntil" class="css-1od09yo">takeUntil</a>, this operator allows you to listen to a stream until something happens! Let&#x27;s look at the implementation of the <code class="css-0">countdown$</code>.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdown$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">takeWhile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> t </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">takeUntil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token comment" style="color:rgb(99, 119, 119);font-style:italic">/*something we&#x27;ll figure out later*/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4">Now, what is the <strong class="css-0">argument</strong> of the <code class="css-0">takeUntil</code> operator? <code class="css-0">takeUntil</code> receives a stream, once that <strong class="css-0">stream</strong> emits a value, our <code class="css-0">countdown$</code> will stop emitting, thus canceling the timer and giving our users another chance to dragging the <code class="css-0">cat</code> to the <code class="css-0">party</code>.</p><p class="css-1bkk5q4">But we have two streams, <code class="css-0">catDragEnd$</code> and <code class="css-0">catAtParty$</code>, can we make it one? Yes, we can! We&#x27;ve already met <code class="css-0">merge</code>! This operator can take multiple streams and combine into a single one, think of it as a funnel.</p><p class="css-1bkk5q4">Let&#x27;s call this last stream <code class="css-0">cancelCountdown$</code>. After we declare it, we can feed it as an input to our <code class="css-0">takeUntil</code> operator. Here&#x27;s the final implementation of Level 4 with cancellation.</p><div class="gatsby-highlight" data-language="javascript"><pre class="prism-code language-javascript" style="color:#d6deeb;background-color:#011627" data-linenumber="true"><div class="token-line" style="color:#d6deeb"><span class="line-number-style">1</span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> cancelCountdown$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">merge</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">catDragEnd$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> catAtParty$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">2</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdown$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">timer</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1000</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">3</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">-</span><span class="token plain"> t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">4</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">takeWhile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">t</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> t </span><span class="token operator" style="color:rgb(127, 219, 202)">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">5</span><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">takeUntil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">cancelCountdown$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">6</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">7</span><span class="token plain"></span><span class="token keyword" style="color:rgb(127, 219, 202)">const</span><span class="token plain"> countdownRunning$ </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> catDragStart$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">switchMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">event</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> countdown$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">8</span><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">9</span><span class="token plain">countdownRunning$</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">secondsLeft</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">10</span><span class="token plain">  countdown</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">innerText</span><span class="token plain"> </span><span class="token operator" style="color:rgb(127, 219, 202)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">secondsLeft</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(173, 219, 103)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">11</span><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">12</span><span class="token plain">countdownRunning$</span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">13</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">pipe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">14</span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">filter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">secondsLeft</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> secondsLeft </span><span class="token operator" style="color:rgb(127, 219, 202)">===</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">15</span><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">delay</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">100</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">16</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">17</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">subscribe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(127, 219, 202)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">18</span><span class="token plain">    </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">alert</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Cat didn&#x27;t make it! You lose!&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">19</span><span class="token plain">    </span><span class="token dom variable" style="color:rgb(214, 222, 235)">window</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">location</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">reload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#d6deeb"><span class="line-number-style">20</span><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre></div><p class="css-1bkk5q4"><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.74999999999999%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsSAAALEgHS3X78AAABl0lEQVQoz3VSyZbcIAzs//+5XHJJenYvGBswyGJfHLn90plJJ3XgYVOFipIu+ye01oQQfd9bG5w1c/8txBJSo43WwsUaYgoxA4bWDv5l/wpjjJQyECWXmHLOtdaDyDU+T2qvLcbkfLxpH8QnUkpEqnXXWg9DP/FlIjAWQqAj7327lb7cDROcc9sGG25o/arEPP5QKyxSs4/vL+9vP98ZblYDSmW+iE84ZzekBclrLdEadv6PbjYWBTjak51c6n63TU7mGyLt7DQbWJV1BnxBi17ZCFL6VZS2UxCnxz9i+kg30FnYJkGhGedgM7g4RAgFVxXMSgWJcPL3x8AoJgWOHobWAKysmzq+oJk1CLNpREcF/isupU4KlAINi1g6/sGvwyL5E5+vixqczzHme7qPlamHB2KMq17HcaSeo6P21JyyD576/re4/UapdZAgqLjhpDUcrkxYF6w9ZKWUU/Nv28TIKR5LylIqzjlNBg0sZUHjQY7ON99xoWtoeLquY4wBwDNTAxOMv478aRGwakOyEA8xgdr/WfwLF5PwT3sOO/wAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <img class="gatsby-resp-image-image css-0" alt="stream representation of the countdown with cancellation" title="stream representation of the countdown with cancellation" src="/static/56f27f69171c392fcd81a7517109793b/7d769/marbles-level-4-3-4.png" srcSet="/static/56f27f69171c392fcd81a7517109793b/5243c/marbles-level-4-3-4.png 240w,/static/56f27f69171c392fcd81a7517109793b/ab158/marbles-level-4-3-4.png 480w,/static/56f27f69171c392fcd81a7517109793b/7d769/marbles-level-4-3-4.png 960w,/static/56f27f69171c392fcd81a7517109793b/87339/marbles-level-4-3-4.png 1440w,/static/56f27f69171c392fcd81a7517109793b/16e65/marbles-level-4-3-4.png 1648w" sizes="(max-width: 960px) 100vw, 960px" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0" loading="lazy"/>
    </span></p><div class="Caption-module--container--2TsmO"><span class="Caption-module--source-text--3ZEQr">source: <!-- -->© 2021 by goodguydaniel.com</span><p class="css-1bkk5q4">In this diagram, our stream gets cancelled after the value <b class="css-0">3</b> is published. The first <b class="css-0">dragend</b> event causes the <b class="css-0">countdownRunning$</b> to stop emitting values.</p></div><p class="css-1bkk5q4">You can check out <a href="https://github.com/danielcaldas/take-the-cat-to-the-party" target="_blank" title="danielcaldas/take-the-cat-to-the-party: Learn reactive programming with RxJS the fun way" class="css-1od09yo">the complete implementation of this challenge here</a>.</p><br/><h4 id="closing-notes" style="position:relative" class="css-1slx2ud">Closing Notes<a href="#closing-notes" aria-label="closing notes permalink" class="anchor after css-1od09yo"><svg style="padding-left:12px" width="28" height="16" fill="#9f7aea" aria-hidden="true" focusable="false" version="1.1" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h4><p class="css-1bkk5q4">Here are the concepts you&#x27;ve learned by building this game:</p><ol class="css-15rlv7r"><li class="css-0"><strong class="css-0">Creating streams</strong> from DOM events.</li><li class="css-0"><strong class="css-0">Manipulating streams</strong> with basic operators such as <code class="css-0">map</code>, <code class="css-0">filter</code>.</li><li class="css-0"><strong class="css-0">Combining streams</strong> with operators such as: <code class="css-0">withLatestFrom</code>, <code class="css-0">switchMap</code>, and <code class="css-0">merge</code>.</li><li class="css-0"><strong class="css-0">Cancellation</strong>, being able to stop listening to a specific stream based on another. In our last level, we used <code class="css-0">takeUntil</code> to achieve this.</li></ol><p class="css-1bkk5q4">Now go out there and try to apply these concepts to build your own applications. I would be pleased to hear from you if you&#x27;ve learned something here today.</p><p class="css-1bkk5q4">In the upcoming articles, I&#x27;ll share with you the good and bad parts of adopting reactive programming and start using RxJS in your codebase, and at last, I&#x27;ll share with you a bunch of fantastic resources to learn RxjS and reactive programming.</p><br/><br/><hr class="css-1ldi06f"/><ul class="css-15rlv7r"><li class="css-0"><a href="https://goodguydaniel.com/blog/why-reactive-programming" target="_blank" title="Why You Should Consider Reactive Programming | goodguydaniel.com" class="css-1od09yo">Part 1 - Why You Should Consider Reactive Programming</a></li><li class="css-0"><a href="https://goodguydaniel.com/blog/reactive-programming-fundamentals" target="_blank" title="Fundamentals of Reactive Programming | goodguydaniel.com" class="css-1od09yo">Part 2 - Fundamentals of Reactive Programming</a></li><li class="css-0"><strong class="css-0">Part 3 - Hands-on Reactive Programming with RxJS</strong></li><li class="css-0"><a href="https://goodguydaniel.com/blog/reactive-rxjs-pros-cons" target="_blank" title="Reactive Programming: The Good and the Bad | goodguydaniel.com" class="css-1od09yo">Part 4 - Reactive Programming: The Good and the Bad</a></li><li class="css-0"><a href="https://goodguydaniel.com/blog/awesome-reactive" target="_blank" title="Awesome RxJS and Reactive Programming Resources | goodguydaniel.com" class="css-1od09yo">Part 5 - Awesome RxJS and Reactive Programming Resources</a></li></ul><style data-emotion-css="10g1xjm">.css-10g1xjm{margin-top:1rem;font-size:1rem;}@media screen and (min-width:640px){.css-10g1xjm{font-size:1rem;}}@media screen and (min-width:768px){.css-10g1xjm{font-size:1.25rem;}}</style><p class="css-10g1xjm">If you liked this article, consider sharing (<a href="http://twitter.com/share?text=Hands-on Reactive Programming with RxJS&amp;url=https://goodguydaniel.com/blog/hands-on-reactive-programming-rxjs&amp;via=_danielcaldas" rel="noreferrer" target="_blank" title="tweeting" class="css-688a3f"><span style="text-decoration:underline">tweeting</span></a>) it to your followers.</p></section></div><style data-emotion-css="6x8z6y">.css-6x8z6y{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:8rem;color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;border-top-style:solid;border-top-width:1px;border-top-color:var(--theme-ui-colors-divide,#cbd5e0);padding-top:1rem;}.css-6x8z6y a{color:var(--theme-ui-colors-secondary,#5f6c80);-webkit-text-decoration:none;text-decoration:none;}.css-6x8z6y a:hover{color:var(--theme-ui-colors-heading,#000);-webkit-text-decoration:underline;text-decoration:underline;}.css-6x8z6y a:focus{color:var(--theme-ui-colors-heading,#000);}@media screen and (min-width:640px){.css-6x8z6y{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media screen and (min-width:768px){.css-6x8z6y{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}}</style><footer class="css-6x8z6y"><div>© <!-- -->2021<!-- --> by <!-- -->goodguydaniel.com<!-- -->. All rights reserved.</div><div><a aria-label="RSS Feed for goodguydaniel.com" href="/rss.xml" class="css-688a3f">RSS feed</a></div><div><a aria-label="Link to the theme&#x27;s GitHub repository" href="https://github.com/LekoArts/gatsby-themes/tree/master/themes/gatsby-theme-minimal-blog" class="css-688a3f">Theme</a> <!-- -->by<!-- --> <a aria-label="Link to the theme author&#x27;s website" href="https://www.lekoarts.de/en" class="css-688a3f">LekoArts</a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/hands-on-reactive-programming-rxjs";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-b6b24f7e1c355f1b3502.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-d9ff9b04d73194b6d64a.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-blog-query-tsx-e944de6797d975e387cb.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-page-query-tsx-574d5ad2c8d6c8b07821.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tag-query-tsx-d7961b6c2dee9f197f9c.js"],"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx":["/component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-tags-query-tsx-c0372a15dca3f13a3b1b.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-homepage-query-tsx-4e5f6470edc07d247406.js"],"component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx":["/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-f79cbd68de06dc3e07ff.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-18be2a3dda995bfcfa26.js"]};/*]]>*/</script><script src="/component---src-lekoarts-gatsby-theme-minimal-blog-core-templates-post-query-tsx-f79cbd68de06dc3e07ff.js" async=""></script><script src="/f93c9fcf4e6185cfda80280209f9de679d68a866-476ea9779f3db9dffd97.js" async=""></script><script src="/styles-9b6f388623a2ec93d35f.js" async=""></script><script src="/app-b6b24f7e1c355f1b3502.js" async=""></script><script src="/f0e45107-14de746ffa42a2a3272a.js" async=""></script><script src="/framework-9fe058f4359556db0d38.js" async=""></script><script src="/webpack-runtime-94ae7dcc7bda68ea3647.js" async=""></script></body></html>